<!doctype html><html lang=en><head><meta charset=utf-8><meta content=dark name=color-scheme><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://tduyng2.github.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content="index, nofollow" name=robots><meta content="Discover the pitfalls of using Enums in TypeScript and explore a more type-safe alternative with `as const`" name=description><title>Why you might be using Enums in TypeScript wrong</title><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content="Why you might be using Enums in TypeScript wrong" property=og:title><meta content=article property=og:type><meta content="Duy NG" property=og:site_name><meta content="Discover the pitfalls of using Enums in TypeScript and explore a more type-safe alternative with `as const`" name=description><meta content="Discover the pitfalls of using Enums in TypeScript and explore a more type-safe alternative with `as const`" property=og:description><meta content="https://tduyng2.github.io/blog/enum-typescript/img/enum.webp?h=c8f3d4059657d50f6c2b" property=og:image><meta content=1500 property=og:image:width><meta content=750 property=og:image:height><meta content="https://tduyng2.github.io/blog/enum-typescript/img/enum.webp?h=c8f3d4059657d50f6c2b" name=twitter:image><meta content=summary_large_image name=twitter:card><style>body{--primary-color:#5871a2;--primary-pale-color:#5871a210;--text-color:#3c4043;--text-pale-color:#94969f;--bg-color:#fff;--highlight-mark-color:#5f75b035;--callout-note-color:#5871a2;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body.dark{--primary-color:#447dbf;--primary-pale-color:#5d77ac20;--text-color:#a5abba;--text-pale-color:#a5abba;--bg-color:#202124;--highlight-mark-color:#5f75b035;--callout-note-color:#5d77ac;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body{--main-font:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--homepage-max-width:768px;--main-max-width:768px;--avatar-size:60px;--icon-size:20px;--homepage-font-size:16px;--homepage-line-height:1.75;--paragraph-font-size:16px;--paragraph-line-height:1.75;--aside-font-size:15px;--img-border-radius:0px;--callout-border-radius:0px;--detail-border-radius:0px;--dark-mode-img-brightness:.75;--dark-mode-chart-brightness:.75;--inline-code-border-radius:2px;--inline-code-bg-color:var(--primary-pale-color);--block-code-border-radius:0px;--block-code-border-color:var(--primary-color);--detail-border-color:var(--primary-color)}</style><link href=/main.css rel=stylesheet><script async data-do-not-track=true data-website-id=0403ec1f-fbf8-4e6c-b24b-0c585ca25873 defer src=https://analytics.eu.umami.is/script.js></script><body class=post><script>const theme=sessionStorage.getItem(`theme`);const match=window.matchMedia(`(prefers-color-scheme: dark)`).matches;if(theme&&theme==`dark`||!theme&&match){document.body.classList.add(`dark`);const a=document.querySelector(`link#hl`);if(a)a.href=`/hl-dark.css`}</script><header class=blur><div id=header-wrapper><nav><a class=instant href=/>tduyng</a><button aria-label="toggle expand" class=separator id=toggler>::</button><span class="wrap left fold">{</span><a class=instant href=/blog>blog</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/projects>projects</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/about>about</a><span class="wrap right fold">} ;</span></nav><div id=btns><a aria-label="rss feed" href=/atom.xml id=rss-btn><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 17C5.20914 17 7 18.7909 7 21H3V17ZM3 10C9.07513 10 14 14.9249 14 21H12C12 16.0294 7.97056 12 3 12V10ZM3 3C12.9411 3 21 11.0589 21 21H19C19 12.1634 11.8366 5 3 5V3Z" fill=currentColor></path></svg></a><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><dialog id=rss-mask><div><a href=https://tduyng2.github.io/atom.xml>https://tduyng2.github.io/atom.xml</a><button data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' aria-label=copy autofocus data-link=https://tduyng2.github.io/atom.xml><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill=currentColor></path></svg></button></div></dialog><div id=wrapper><div id=blank></div><aside><nav><ul><li><a class=h2 href=#tl-dr>TL;DR</a><li><a class=h2 href=#so-what-is-the-problem-with-enum>So what is the problem with enum?</a><li><a class=h2 href=#what-is-the-solution-instead>What is the solution instead?</a><li><a class=h2 href=#what-about-the-type-for-as-const>What about the Type for 'as const'?</a></ul></nav><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' class=prose><h1>Why you might be using Enums in TypeScript wrong</h1><div id=post-info><div id=date><span id=publish>2024-06-21</span><span>Updated on <span id=updated>2024-06-24</span></span></div><div id=tags><a class=instant href=https://tduyng2.github.io/tags/typescript><span>#</span>typescript</a><a class=instant href=https://tduyng2.github.io/tags/enum><span>#</span>enum</a><a class=instant href=https://tduyng2.github.io/tags/best-practices><span>#</span>best-practices</a></div></div><blockquote class="callout alert hidden" data-alert-text-after=" days ago and may be out of date." data-alert-text-before="This article was last updated " data-days=1000 id=outdate_alert><div class=icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M4.00098 20V14C4.00098 9.58172 7.5827 6 12.001 6C16.4193 6 20.001 9.58172 20.001 14V20H21.001V22H3.00098V20H4.00098ZM6.00098 20H18.001V14C18.001 10.6863 15.3147 8 12.001 8C8.68727 8 6.00098 10.6863 6.00098 14V20ZM11.001 2H13.001V5H11.001V2ZM19.7792 4.80761L21.1934 6.22183L19.0721 8.34315L17.6578 6.92893L19.7792 4.80761ZM2.80859 6.22183L4.22281 4.80761L6.34413 6.92893L4.92991 8.34315L2.80859 6.22183ZM7.00098 14C7.00098 11.2386 9.23956 9 12.001 9V11C10.3441 11 9.00098 12.3431 9.00098 14H7.00098Z" fill=currentColor></path></svg></div><div class=content></div></blockquote><p>The topic of using enums in TypeScript has been discussed a lot, but many developers still remain unaware of their drawbacks. Even though enums are popular and commonly used, they might not always be the best choice. In this article, I'll share my thoughts on why enums can be a problem and show you a better way to do things.<h2 id=tl-dr>TL;DR<a aria-label="Anchor link for: tl-dr" class=zola-anchor href=#tl-dr style=visibility:hidden>#</a></h2><ul><li><code>enum</code> is a TypeScript-only feature and doesn't exist in JavaScript.<li><code>enum</code> has several problems: <ul><li>The compiled output can be hard to read and understand, leading to potential bugs.<li>Performance impacts due to runtime creation and initialization.<li>Compatibility issues with type declarations, especially in projects using <code>isolatedModules</code>.</ul><li>Use <code>as const</code> with a generic type helper: <code>export type TypeFrom&LTT> = T[keyof T]</code> for a simpler, more efficient alternative.</ul><p>If you are a TypeScript developer, you’re likely familiar with using <code>enums</code>. However, have you ever considered what <code>enums</code> in TypeScript actually represent? It's worth noting that JavaScript doesn't have the <code>enum</code> feature.<blockquote><p>It's important to remember that TypeScript is essentially JavaScript with type, and the resulting code executed in the browser or backend environment is JavaScript.</blockquote><p>So, how exactly do <code>enums</code> when transitioning between TypeScript and JavaScript?<p>Here is a simple example of an <code>enum</code> in TypeScript:<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#6272a4>// constant.ts
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>enum </span><span>HttpStatusCode {
</span><span>    </span><span style=color:#fff>Ok </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>200</span><span>,
</span><span>    </span><span style=color:#fff>BadRequest </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>400</span><span>,
</span><span>    </span><span style=color:#fff>Authorized </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>401</span><span>,
</span><span>    </span><span style=color:#fff>Forbidden </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>403</span><span>,
</span><span>    </span><span style=color:#fff>NotFound </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>404</span><span>,
</span><span>    </span><span style=color:#fff>InternalServerError </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>500</span><span>,
</span><span>    </span><span style=color:#fff>GatewayTimeout </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>503</span><span>,
</span><span>}
</span><span style=color:#8be9fd;font-style:italic>enum </span><span>Color {
</span><span>    </span><span style=color:#fff>Red</span><span>,
</span><span>    </span><span style=color:#fff>Green</span><span>,
</span><span>    </span><span style=color:#fff>Blue</span><span>,
</span><span>    </span><span style=color:#fff>Yellow </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>10</span><span>,
</span><span>    </span><span style=color:#fff>Purple</span><span>,
</span><span>    </span><span style=color:#fff>Orange</span><span>,
</span><span>    </span><span style=color:#fff>Pink</span><span>,
</span><span>}
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>enum </span><span>E2 {
</span><span>    </span><span style=color:#fff>A </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1</span><span>,
</span><span>    </span><span style=color:#fff>B </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>20</span><span>,
</span><span>    </span><span style=color:#fff>C</span><span>,
</span><span>}
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>enum </span><span>FileAccess {
</span><span>    </span><span style=color:#6272a4>// constant members
</span><span>    </span><span style=color:#fff>None</span><span>,
</span><span>    </span><span style=color:#fff>Read </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1 </span><span style=color:#ff79c6><< </span><span style=color:#bd93f9>1</span><span>,
</span><span>    </span><span style=color:#fff>Write </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1 </span><span style=color:#ff79c6><< </span><span style=color:#bd93f9>2</span><span>,
</span><span>    </span><span style=color:#fff>ReadWrite </span><span style=color:#ff79c6>= </span><span style=color:#fff>Read </span><span style=color:#ff79c6>| </span><span style=color:#fff>Write</span><span>,
</span><span>    </span><span style=color:#6272a4>// computed member
</span><span>    </span><span style=color:#fff>G </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>'123'</span><span style=color:#ff79c6>.</span><span>length,
</span><span>}
</span></code></pre><p>And here is the JavaScript code after compilation:<pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#6272a4>// constant.js
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>var </span><span style=color:#fff>HttpStatusCode</span><span>;
</span><span>(</span><span style=color:#8be9fd;font-style:italic>function </span><span>(</span><span style=color:#ffb86c;font-style:italic>HttpStatusCode</span><span>) {
</span><span>    </span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#f1fa8c>"Ok"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>200</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Ok"</span><span>;
</span><span>    </span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#f1fa8c>"BadRequest"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>400</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"BadRequest"</span><span>;
</span><span>    </span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#f1fa8c>"Authorized"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>401</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Authorized"</span><span>;
</span><span>    </span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#f1fa8c>"Forbidden"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>403</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Forbidden"</span><span>;
</span><span>    </span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#f1fa8c>"NotFound"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>404</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"NotFound"</span><span>;
</span><span>    </span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#f1fa8c>"InternalServerError"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>500</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"InternalServerError"</span><span>;
</span><span>    </span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#fff>HttpStatusCode</span><span>[</span><span style=color:#f1fa8c>"GatewayTimeout"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>503</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"GatewayTimeout"</span><span>;
</span><span>})(</span><span style=color:#fff>HttpStatusCode </span><span style=color:#ff79c6>|| </span><span>(</span><span style=color:#fff>HttpStatusCode </span><span style=color:#ff79c6>= </span><span>{}));
</span><span>
</span><span style=color:#8be9fd;font-style:italic>var </span><span style=color:#fff>Color</span><span>;
</span><span>(</span><span style=color:#8be9fd;font-style:italic>function </span><span>(</span><span style=color:#ffb86c;font-style:italic>Color</span><span>) {
</span><span>    </span><span style=color:#fff>Color</span><span>[</span><span style=color:#fff>Color</span><span>[</span><span style=color:#f1fa8c>"Red"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>0</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Red"</span><span>;
</span><span>    </span><span style=color:#fff>Color</span><span>[</span><span style=color:#fff>Color</span><span>[</span><span style=color:#f1fa8c>"Green"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Green"</span><span>;
</span><span>    </span><span style=color:#fff>Color</span><span>[</span><span style=color:#fff>Color</span><span>[</span><span style=color:#f1fa8c>"Blue"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>2</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Blue"</span><span>;
</span><span>    </span><span style=color:#fff>Color</span><span>[</span><span style=color:#fff>Color</span><span>[</span><span style=color:#f1fa8c>"Yellow"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>10</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Yellow"</span><span>;
</span><span>    </span><span style=color:#fff>Color</span><span>[</span><span style=color:#fff>Color</span><span>[</span><span style=color:#f1fa8c>"Purple"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>11</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Purple"</span><span>;
</span><span>    </span><span style=color:#fff>Color</span><span>[</span><span style=color:#fff>Color</span><span>[</span><span style=color:#f1fa8c>"Orange"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>12</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Orange"</span><span>;
</span><span>    </span><span style=color:#fff>Color</span><span>[</span><span style=color:#fff>Color</span><span>[</span><span style=color:#f1fa8c>"Pink"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>13</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Pink"</span><span>;
</span><span>})(</span><span style=color:#fff>Color </span><span style=color:#ff79c6>|| </span><span>(</span><span style=color:#fff>Color </span><span style=color:#ff79c6>= </span><span>{}));
</span><span>
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>var </span><span style=color:#fff>E2</span><span>;
</span><span>(</span><span style=color:#8be9fd;font-style:italic>function </span><span>(</span><span style=color:#ffb86c;font-style:italic>E2</span><span>) {
</span><span>    </span><span style=color:#fff>E2</span><span>[</span><span style=color:#fff>E2</span><span>[</span><span style=color:#f1fa8c>"A"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"A"</span><span>;
</span><span>    </span><span style=color:#fff>E2</span><span>[</span><span style=color:#fff>E2</span><span>[</span><span style=color:#f1fa8c>"B"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>20</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"B"</span><span>;
</span><span>    </span><span style=color:#fff>E2</span><span>[</span><span style=color:#fff>E2</span><span>[</span><span style=color:#f1fa8c>"C"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>21</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"C"</span><span>;
</span><span>})(</span><span style=color:#fff>E2 </span><span style=color:#ff79c6>|| </span><span>(</span><span style=color:#fff>E2 </span><span style=color:#ff79c6>= </span><span>{}));
</span><span>
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>var </span><span style=color:#fff>FileAccess</span><span>;
</span><span>(</span><span style=color:#8be9fd;font-style:italic>function </span><span>(</span><span style=color:#ffb86c;font-style:italic>FileAccess</span><span>) {
</span><span>    </span><span style=color:#6272a4>// constant members
</span><span>    </span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#f1fa8c>"None"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>0</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"None"</span><span>;
</span><span>    </span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#f1fa8c>"Read"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>2</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Read"</span><span>;
</span><span>    </span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#f1fa8c>"Write"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>4</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"Write"</span><span>;
</span><span>    </span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#f1fa8c>"ReadWrite"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>6</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"ReadWrite"</span><span>;
</span><span>    </span><span style=color:#6272a4>// computed member
</span><span>    </span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#fff>FileAccess</span><span>[</span><span style=color:#f1fa8c>"G"</span><span>] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>'123'</span><span style=color:#ff79c6>.</span><span>length] </span><span style=color:#ff79c6>= </span><span style=color:#f1fa8c>"G"</span><span>;
</span><span>})(</span><span style=color:#fff>FileAccess </span><span style=color:#ff79c6>|| </span><span>(</span><span style=color:#fff>FileAccess </span><span style=color:#ff79c6>= </span><span>{}));
</span></code></pre><p>Do you see the difference between the TypeScript code and the JavaScript code? That's quite difficult to read, right?<p>When compiled to JavaScript, <code>enums</code> are created as functions with the same name as our <code>enum</code> and the key-values are added to that function.<h2 id=so-what-is-the-problem-with-enum>So what is the problem with enum?<a aria-label="Anchor link for: so-what-is-the-problem-with-enum" class=zola-anchor href=#so-what-is-the-problem-with-enum style=visibility:hidden>#</a></h2><ol><li><p><strong>Understanding output code</strong></p> <p>Because the code and the output do not look the same, it makes it harder to read and understand the code. This can lead to unexpected bugs at runtime.</p> <p>As seen in the example above, if we specify an index base, the index base of all the subsequent keys changes. Sometimes, it can be very difficult to understand what's going on with the output of an <code>enum</code>.</p></ol><p>For example:<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#fff>Color</span><span style=color:#ff79c6>.</span><span style=color:#fff>Purple</span><span>); </span><span style=color:#6272a4>// ??? 
</span><span style=color:#6272a4>// The output is 11.
</span><span style=color:#6272a4>// If we read only the TypeScript code for this case, 
</span><span style=color:#6272a4>// we might not be sure about the result 
</span><span style=color:#6272a4>// without understanding the underlying enum value assignments.
</span></code></pre><ol start=2><li><p><strong>Compatibility issues with type declarations</strong></p> <p>When building projects or libraries that consume types with <code>.d.ts</code> files, using <code>enum</code> types can cause issues. Specifically, if a project uses <a rel="nofollow noreferrer" href=https://www.typescriptlang.org/tsconfig/#references-to-const-enum-members>isolatedModules</a>, it may not be able to use <code>enum</code> types effectively. This problem has been encountered in our projects as well.</p><li><p><del>Performance impact</del></p> <p><del>The <code>enum</code> object is compiled to a function in JavaScript, which needs to be created and initialised at runtime each time the <code>enum</code> is called. This can affect performance, especially in large applications.</del></p> <p>When compiled to JavaScript, enums use an Immediately Invoked Function Expression (IIFE). This IIFE runs once to initialise an object representing the enum. After initialisation, accessing enum values is efficient as it involves simple property lookups, with no additional function calls. Therefore, there is not a significant performance difference between using enums and const objects.</p> <blockquote><p>Thanks to <a rel="nofollow noreferrer" href=https://github.com/dios-david>David Dios</a> for <a rel="nofollow noreferrer" href=https://github.com/tduyng/tduyng.github.io/discussions/15>the correction</a></blockquote></ol><p>For more detailed discussions on the drawbacks to using <code>enum</code> in TypeScript, you can refer to these resources:<ul><li><a rel="nofollow noreferrer" href=https://www.typescriptlang.org/docs/handbook/enums.html>The official TypeScript documentation</a><li><a rel="nofollow noreferrer" href=https://www.reddit.com/r/typescript/comments/yr4vv5/typescript_enums_are_terrible_heres_why/>TypeScript Enums are TERRIBLE. Here's Why</a><li><a rel="nofollow noreferrer" href=https://www.crocoder.dev/blog/typescript-enums-good-bad-and-ugly/>TypeScript Enums: The Good, The Bad, and The Ugly</a></ul><h2 id=what-is-the-solution-instead>What is the solution instead?<a aria-label="Anchor link for: what-is-the-solution-instead" class=zola-anchor href=#what-is-the-solution-instead style=visibility:hidden>#</a></h2><p>The Typescript team provides a simple alternative solution for <code>enum</code>:<blockquote><p>In modern TypeScript, you may not need an enum when an object with <code>as const</code> could suffice.</blockquote><p>So, you might not use enum at all and use <code>as const</code> instead.<p>Here is an example of the output in JavaScript if we use <code>as const</code> to see how it works:<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#6272a4>// constant.ts
</span><span style=color:#6272a4>// Alternative enums solutions
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>HttpStatusCodes </span><span style=color:#ff79c6>= </span><span>{
</span><span>    Ok: </span><span style=color:#bd93f9>200</span><span>,
</span><span>    BadRequest: </span><span style=color:#bd93f9>400</span><span>,
</span><span>    Authorized: </span><span style=color:#bd93f9>401</span><span>,
</span><span>    Forbidden: </span><span style=color:#bd93f9>403</span><span>,
</span><span>    NotFound: </span><span style=color:#bd93f9>404</span><span>,
</span><span>    InternalServerError: </span><span style=color:#bd93f9>500</span><span>,
</span><span>    GatewayTimeout: </span><span style=color:#bd93f9>503</span><span>,
</span><span>} </span><span style=color:#ff79c6>as const</span><span>;
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>Colors </span><span style=color:#ff79c6>= </span><span>{
</span><span>    Red: </span><span style=color:#bd93f9>0</span><span>,
</span><span>    Green: </span><span style=color:#bd93f9>1</span><span>,
</span><span>    Blue: </span><span style=color:#bd93f9>2</span><span>,
</span><span>    Yellow: </span><span style=color:#bd93f9>3</span><span>,
</span><span>    Purple: </span><span style=color:#bd93f9>11</span><span>,
</span><span>    Orange: </span><span style=color:#bd93f9>5</span><span>,
</span><span>    Pink: </span><span style=color:#bd93f9>6</span><span>,
</span><span>} </span><span style=color:#ff79c6>as const</span><span>;
</span><span style=color:#6272a4>// Or
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>Colors2 </span><span style=color:#ff79c6>= </span><span>{
</span><span>    Red: </span><span style=color:#f1fa8c>'Red'</span><span>,
</span><span>    Green: </span><span style=color:#f1fa8c>'Green'</span><span>,
</span><span>    Blue: </span><span style=color:#f1fa8c>'Blue'</span><span>,
</span><span>    Yellow: </span><span style=color:#f1fa8c>'Yellow'</span><span>,
</span><span>    Purple: </span><span style=color:#f1fa8c>'Purple'</span><span>,
</span><span>    Orange: </span><span style=color:#f1fa8c>'Orange'</span><span>,
</span><span>    Pink: </span><span style=color:#f1fa8c>'Pink'</span><span>,
</span><span>} </span><span style=color:#ff79c6>as const</span><span>;
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>FileAccesses </span><span style=color:#ff79c6>= </span><span>{
</span><span>    None: </span><span style=color:#bd93f9>0</span><span>,
</span><span>    Read: </span><span style=color:#bd93f9>1 </span><span style=color:#ff79c6><< </span><span style=color:#bd93f9>1</span><span>,
</span><span>    Write: </span><span style=color:#bd93f9>1 </span><span style=color:#ff79c6><< </span><span style=color:#bd93f9>2</span><span>,
</span><span>    ReadWrite: </span><span style=color:#bd93f9>3</span><span>,
</span><span>    G: </span><span style=color:#f1fa8c>'123'</span><span style=color:#ff79c6>.</span><span>length,
</span><span>} </span><span style=color:#ff79c6>as const</span><span>;
</span></code></pre><p>And you will have the same code when compiled to JavaScript (without <code>as const</code>)<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#6272a4>// constant.js
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>HttpStatusCodes </span><span style=color:#ff79c6>= </span><span>{
</span><span>    Ok: </span><span style=color:#bd93f9>200</span><span>,
</span><span>    BadRequest: </span><span style=color:#bd93f9>400</span><span>,
</span><span>    Authorized: </span><span style=color:#bd93f9>401</span><span>,
</span><span>    Forbidden: </span><span style=color:#bd93f9>403</span><span>,
</span><span>    NotFound: </span><span style=color:#bd93f9>404</span><span>,
</span><span>    InternalServerError: </span><span style=color:#bd93f9>500</span><span>,
</span><span>    GatewayTimeout: </span><span style=color:#bd93f9>503</span><span>,
</span><span>}
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>Colors </span><span style=color:#ff79c6>= </span><span>{
</span><span>    Red: </span><span style=color:#bd93f9>0</span><span>,
</span><span>    Green: </span><span style=color:#bd93f9>1</span><span>,
</span><span>    Blue: </span><span style=color:#bd93f9>2</span><span>,
</span><span>    Yellow: </span><span style=color:#bd93f9>3</span><span>,
</span><span>    Purple: </span><span style=color:#bd93f9>11</span><span>,
</span><span>    Orange: </span><span style=color:#bd93f9>5</span><span>,
</span><span>    Pink: </span><span style=color:#bd93f9>6</span><span>,
</span><span>};
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>Colors2 </span><span style=color:#ff79c6>= </span><span>{
</span><span>    Red: </span><span style=color:#f1fa8c>'Red'</span><span>,
</span><span>    Green: </span><span style=color:#f1fa8c>'Green'</span><span>,
</span><span>    Blue: </span><span style=color:#f1fa8c>'Blue'</span><span>,
</span><span>    Yellow: </span><span style=color:#f1fa8c>'Yellow'</span><span>,
</span><span>    Purple: </span><span style=color:#f1fa8c>'Purple'</span><span>,
</span><span>    Orange: </span><span style=color:#f1fa8c>'Orange'</span><span>,
</span><span>    Pink: </span><span style=color:#f1fa8c>'Pink'</span><span>,
</span><span>};
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>FileAccesses </span><span style=color:#ff79c6>= </span><span>{
</span><span>    None: </span><span style=color:#bd93f9>0</span><span>,
</span><span>    Read: </span><span style=color:#bd93f9>1 </span><span style=color:#ff79c6><< </span><span style=color:#bd93f9>1</span><span>,
</span><span>    Write: </span><span style=color:#bd93f9>1 </span><span style=color:#ff79c6><< </span><span style=color:#bd93f9>2</span><span>,
</span><span>    ReadWrite: </span><span style=color:#bd93f9>3</span><span>,
</span><span>    G: </span><span style=color:#f1fa8c>'123'</span><span style=color:#ff79c6>.</span><span>length,
</span><span>};
</span></code></pre><p>The <code>as const</code> object will compile to JavaScript code that looks exactly like your TypeScript code. You can use these objects just as you would use enums. This approach resolves all the issues with enums that I mentioned above.<h2 id=what-about-the-type-for-as-const>What about the Type for 'as const'?<a aria-label="Anchor link for: what-about-the-type-for-as-const" class=zola-anchor href=#what-about-the-type-for-as-const style=visibility:hidden>#</a></h2><p>Using <code>as const</code> provides the constant values, but how can we define the enum type when needed? Fortunately, this is not complicated.<p>Here is the solution for typing:<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#6272a4>// Helper types
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>type </span><span>TypeFrom&LTT> </span><span style=color:#ff79c6>= </span><span>T[</span><span style=color:#ff79c6>keyof </span><span>T];
</span><span>
</span><span style=color:#6272a4>// Const types
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>type </span><span>HttpStatusCode </span><span style=color:#ff79c6>= </span><span>TypeFrom<</span><span style=color:#ff79c6>typeof </span><span>HttpStatusCodes>;
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>type </span><span>Color </span><span style=color:#ff79c6>= </span><span>TypeFrom<</span><span style=color:#ff79c6>typeof </span><span>Colors>;
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>type </span><span>Color2 </span><span style=color:#ff79c6>= </span><span>TypeFrom<</span><span style=color:#ff79c6>typeof </span><span>Colors2>;
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>type </span><span>FileAccess </span><span style=color:#ff79c6>= </span><span>TypeFrom<</span><span style=color:#ff79c6>typeof </span><span>FileAccesses>;
</span></code></pre><p>In this approach:<ul><li><strong>Helper type</strong>: Define a generic helper type <code>TypeFrom</code> to extract the type from an object.<li><strong>Const types</strong>: Use the <code>TypeFrom</code> helper to create each equivalent type for the constants.</ul><p>However, there is a potential issue when importing constants and types:<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>Color </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./constant.js'</span><span>;
</span><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>Color </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./definitions.js'</span><span>;
</span></code></pre><p>TypeScript does not allow the same name for different entities in the same file. A workaround is to use namespace imports:<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>Color </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./constant.js'</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#bd93f9>* </span><span style=color:#ff79c6>as </span><span style=color:#fff>definitions </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./definitions.js'</span><span>;
</span><span>
</span><span style=color:#6272a4>// And use definitions.Color when needed
</span></code></pre><p>But I don't recommend that approach, it's not flexible and it makes auto-import in IDEs harder. A better approach is to name constants and types differently, typically using plurals for <code>as const</code> objects and singular forms for types:<pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#6272a4>// constant.ts
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>HttpStatusCodes </span><span style=color:#ff79c6>= </span><span>{
</span><span>    Ok: </span><span style=color:#bd93f9>200</span><span>,
</span><span>    BadRequest: </span><span style=color:#bd93f9>400</span><span>,
</span><span>} </span><span style=color:#ff79c6>as const</span><span>;
</span><span>
</span><span style=color:#6272a4>// definitions.ts
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>type </span><span>TypeFrom&LTT> </span><span style=color:#ff79c6>= </span><span>T[</span><span style=color:#ff79c6>keyof </span><span>T];
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>type </span><span>HttpStatusCode </span><span style=color:#ff79c6>= </span><span>TypeFrom<</span><span style=color:#ff79c6>typeof </span><span>HttpStatusCodes>;
</span></code></pre><p>This way, you can easily import and export constants and types without naming conflicts. Additionally, this approach has the advantage of clearly separating TypeScript <code>type</code> definitions from TypeScript constants/functions<p>I hope this article reaches many people, helps you optimize your use of TypeScript in your project. Feel free to read the comments or provide feedback on <a rel="nofollow noreferrer" href=https://tduyng.medium.com/why-you-might-be-using-enums-in-typescript-wrong-6d9c5742db5a>my medium post</a>. Happy coding!<div class=pagination><hr> Enjoyed this article? For more technical content on Typescript or backend development, stay updated by subcribe my blog through RSS feeds. <div class=pagination__buttons><span class="button previous"> <a href=https://tduyng2.github.io/blog/switch-to-deno/> <span class=button__icon>←</span>  <span class=button__text>Should you switch to Deno?</span> </a> </span><span class="button next"> <a href=https://tduyng2.github.io/blog/migrating-to-eslint9x/> <span class=button__text>Migrate to ESLint 9.x</span>  <span class=button__icon>→</span> </a> </span></div></div></article><div class=giscus></div><script data-repo-id="MDEwOlJlcG9zaXRvcnkyNjAzNTM0NzM=" async crossorigin data-category=General data-category-id=DIC_kwDOD4Stwc4CfSpo data-dark-theme=noborder_dark data-emit-metadata=0 data-input-position=bottom data-lang=en data-lazy-loading=true data-light-theme=noborder_light data-mapping=specific data-reactions-enabled=1 data-repo=tduyng/tduyng.github.io data-strict=1 data-term=enum-typescript src=https://giscus.app/client.js></script></div><footer><div class=copyright><p>© 2024 Duy NG</div><a class="instant fold" href=/tags>tags</a><a class="instant fold" href=/subscribe>subscribe</a><a class="instant fold" href=/contact>contact</a><a class="instant fold" href=/privacy>privacy</a><a class="instant fold" href=/sitemap.xml>sitemap</a><a class="instant fold" href=/atom.xml>rss</a></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>