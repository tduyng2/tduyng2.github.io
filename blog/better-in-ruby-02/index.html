<!doctype html><html lang=en><head><meta charset=utf-8><meta content=dark name=color-scheme><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://tduyng2.github.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content="index, nofollow" name=robots><meta content="Hidden Ruby gems: uncovering little known tips." name=description><title>Better In Ruby - 02</title><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content="Better In Ruby - 02" property=og:title><meta content=article property=og:type><meta content="Duy NG" property=og:site_name><meta content="Hidden Ruby gems: uncovering little known tips." name=description><meta content="Hidden Ruby gems: uncovering little known tips." property=og:description><meta content="https://tduyng2.github.io/img/avatar.webp?h=742e6e00a4c9ec8e8fc2" property=og:image><meta content=736 property=og:image:width><meta content=736 property=og:image:height><meta content="https://tduyng2.github.io/img/avatar.webp?h=742e6e00a4c9ec8e8fc2" name=twitter:image><meta content=summary_large_image name=twitter:card><style>body{--primary-color:#5871a2;--primary-pale-color:#5871a210;--text-color:#3c4043;--text-pale-color:#94969f;--bg-color:#fff;--highlight-mark-color:#5f75b035;--callout-note-color:#5871a2;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body.dark{--primary-color:#447dbf;--primary-pale-color:#5d77ac20;--text-color:#a5abba;--text-pale-color:#a5abba;--bg-color:#202124;--highlight-mark-color:#5f75b035;--callout-note-color:#5d77ac;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body{--main-font:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--homepage-max-width:768px;--main-max-width:768px;--avatar-size:60px;--icon-size:20px;--homepage-font-size:16px;--homepage-line-height:1.75;--paragraph-font-size:16px;--paragraph-line-height:1.75;--aside-font-size:15px;--img-border-radius:0px;--callout-border-radius:0px;--detail-border-radius:0px;--dark-mode-img-brightness:.75;--dark-mode-chart-brightness:.75;--inline-code-border-radius:2px;--inline-code-bg-color:var(--primary-pale-color);--block-code-border-radius:0px;--block-code-border-color:var(--primary-color);--detail-border-color:var(--primary-color)}</style><link href=/main.css rel=stylesheet><script async data-do-not-track=true data-website-id=0403ec1f-fbf8-4e6c-b24b-0c585ca25873 defer src=https://analytics.eu.umami.is/script.js></script><body class=post><script>const theme=sessionStorage.getItem(`theme`);const match=window.matchMedia(`(prefers-color-scheme: dark)`).matches;if(theme&&theme==`dark`||!theme&&match){document.body.classList.add(`dark`);const a=document.querySelector(`link#hl`);if(a)a.href=`/hl-dark.css`}</script><header class=blur><div id=header-wrapper><nav><a class=instant href=/>tduyng</a><button aria-label="toggle expand" class=separator id=toggler>::</button><span class="wrap left fold">{</span><a class=instant href=/blog>blog</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/projects>projects</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/about>about</a><span class="wrap right fold">} ;</span></nav><div id=btns><a aria-label="rss feed" href=/atom.xml id=rss-btn><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 17C5.20914 17 7 18.7909 7 21H3V17ZM3 10C9.07513 10 14 14.9249 14 21H12C12 16.0294 7.97056 12 3 12V10ZM3 3C12.9411 3 21 11.0589 21 21H19C19 12.1634 11.8366 5 3 5V3Z" fill=currentColor></path></svg></a><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><dialog id=rss-mask><div><a href=https://tduyng2.github.io/atom.xml>https://tduyng2.github.io/atom.xml</a><button data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' aria-label=copy autofocus data-link=https://tduyng2.github.io/atom.xml><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill=currentColor></path></svg></button></div></dialog><div id=wrapper><div id=blank></div><aside><nav><ul><li><a class=h2 href=#create-a-hash-from-a-list-of-values>Create a hash from a list of values</a><li><a class=h2 href=#lambda-literal>Lambda Literal -></a><li><a class=h2 href=#double-star>Double star (**)</a><li><a class=h2 href=#handle-single-object-and-array-in-the-same-way>Handle single object and array in the same way</a><li><a class=h2 href=#double-pipe-equals>Double Pipe Equals ||=</a><li><a class=h2 href=#mandatory-hash-parameters>Mandatory hash parameters</a><li><a class=h2 href=#generate-array-of-alphabet-or-numbers>Generate array of alphabet or numbers</a><li><a class=h2 href=#tap>Tap</a></ul></nav><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' class=prose><h1>Better In Ruby - 02</h1><div id=post-info><div id=date><span id=publish>2020-08-30</span></div><div id=tags><a class=instant href=https://tduyng2.github.io/tags/ruby><span>#</span>ruby</a></div></div><blockquote class="callout alert hidden" data-alert-text-after=" days ago and may be out of date." data-alert-text-before="This article was last updated " data-days=365 id=outdate_alert><div class=icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M4.00098 20V14C4.00098 9.58172 7.5827 6 12.001 6C16.4193 6 20.001 9.58172 20.001 14V20H21.001V22H3.00098V20H4.00098ZM6.00098 20H18.001V14C18.001 10.6863 15.3147 8 12.001 8C8.68727 8 6.00098 10.6863 6.00098 14V20ZM11.001 2H13.001V5H11.001V2ZM19.7792 4.80761L21.1934 6.22183L19.0721 8.34315L17.6578 6.92893L19.7792 4.80761ZM2.80859 6.22183L4.22281 4.80761L6.34413 6.92893L4.92991 8.34315L2.80859 6.22183ZM7.00098 14C7.00098 11.2386 9.23956 9 12.001 9V11C10.3441 11 9.00098 12.3431 9.00098 14H7.00098Z" fill=currentColor></path></svg></div><div class=content></div></blockquote><p>Some tips you probably don't know in Ruby - 02<p>In this article, I want to show you some nice Ruby features that you may know or not. Anyway, it’s a quick read and it’s always interesting to learn new stuff, right?!<h2 id=create-a-hash-from-a-list-of-values>Create a hash from a list of values<a aria-label="Anchor link for: create-a-hash-from-a-list-of-values" class=zola-anchor href=#create-a-hash-from-a-list-of-values style=visibility:hidden>#</a></h2><p><a name=assigning-rest-array style=padding:0px,margin:0px></a><p>You can create a hash from a list of values by using Hash[...]. It will create a hash like below:<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#fff>Hash</span><span>[</span><span style=color:#f1fa8c>'key1'</span><span>, </span><span style=color:#f1fa8c>'value1'</span><span>, </span><span style=color:#f1fa8c>'key2'</span><span>, </span><span style=color:#f1fa8c>'value2'</span><span>]
</span><span>
</span><span style=color:#6272a4># => {"key1"=>"value1", "key2"=>"value2"}
</span></code></pre><h2 id=lambda-literal>Lambda Literal -><a aria-label="Anchor link for: lambda-literal" class=zola-anchor href=#lambda-literal style=visibility:hidden>#</a></h2><p><a name=word-array style=padding:0px,margin:0px></a><p>Lambda Literal is a anonymous function like lambda in python, <code>=></code> in JS or C#, allows you to create lambda easily.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>a </span><span style=color:#ff79c6>= -> </span><span>{ </span><span style=color:#bd93f9>1 </span><span style=color:#ff79c6>+ </span><span style=color:#bd93f9>1 </span><span>}
</span><span>a</span><span style=color:#ff79c6>.</span><span>call
</span><span style=color:#6272a4># => 2
</span><span>
</span><span>a </span><span style=color:#ff79c6>= -> </span><span>(v) { v </span><span style=color:#ff79c6>+ </span><span style=color:#bd93f9>1 </span><span>}
</span><span>a</span><span style=color:#ff79c6>.</span><span>call(</span><span style=color:#bd93f9>2</span><span>)
</span><span style=color:#6272a4># => 3
</span></code></pre><h2 id=double-star>Double star (**)<a aria-label="Anchor link for: double-star" class=zola-anchor href=#double-star style=visibility:hidden>#</a></h2><p><a name=concate-array style=padding:0px,margin:0px></a><p>The double star is a neat little trick in Ruby. See the following method:<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#ff79c6>def </span><span style=color:#50fa7b>my_method</span><span>(</span><span style=color:#ffb86c;font-style:italic>a</span><span>, </span><span style=color:#ff79c6>*</span><span style=color:#ffb86c;font-style:italic>b</span><span>, </span><span style=color:#ff79c6>**</span><span style=color:#ffb86c;font-style:italic>c</span><span>)
</span><span>  </span><span style=color:#ff79c6>return</span><span> a, b, c
</span><span style=color:#ff79c6>end
</span></code></pre><p><code>a</code> is a regular parameter. <code>*b</code> will take all the parameters passed after the first one and put them in an array. <code>c</code> will take any parameter given in the format key: value at the end of the method call.<p>See the following examples:<p>One parameter<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>my_method(</span><span style=color:#bd93f9>1</span><span>)
</span><span style=color:#6272a4># => [1, [], {}]
</span></code></pre><p>More than one parameter<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>my_method(</span><span style=color:#bd93f9>1</span><span>, </span><span style=color:#bd93f9>2</span><span>, </span><span style=color:#bd93f9>3</span><span>, </span><span style=color:#bd93f9>4</span><span>)
</span><span style=color:#6272a4># => [1, [2, 3, 4], {}]
</span></code></pre><p>More than one parameter + hash-style parameters<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>my_method(</span><span style=color:#bd93f9>1</span><span>, </span><span style=color:#bd93f9>2</span><span>, </span><span style=color:#bd93f9>3</span><span>, </span><span style=color:#bd93f9>4</span><span>, </span><span style=color:#bd93f9>a: 1</span><span>, </span><span style=color:#bd93f9>b: 2</span><span>)
</span><span style=color:#6272a4># => [1, [2, 3, 4], {:a=>1, :b=>2}]
</span></code></pre><h2 id=handle-single-object-and-array-in-the-same-way>Handle single object and array in the same way<a aria-label="Anchor link for: handle-single-object-and-array-in-the-same-way" class=zola-anchor href=#handle-single-object-and-array-in-the-same-way style=visibility:hidden>#</a></h2><p><a name=format-decimal style=padding:0px,margin:0px></a><p>Sometimes you might want to give the option to either accept a single object or an array of objects. Instead of checking for the type of object you’ve received, you could use <code>[*something] or Array(something)</code>.<p>Let’s assign two variables. The first one is a single digit and the second one is an array of digits.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>stuff </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1
</span><span>stuff_arr </span><span style=color:#ff79c6>= </span><span>[</span><span style=color:#bd93f9>1</span><span>, </span><span style=color:#bd93f9>2</span><span>, </span><span style=color:#bd93f9>3</span><span>]
</span></code></pre><p>In the following example, I use <code>[*...]</code> to loop through whatever is give<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>[</span><span style=color:#ff79c6>*</span><span>stuff]</span><span style=color:#ff79c6>.</span><span>each { |</span><span style=color:#ffb86c;font-style:italic>s</span><span>| s }
</span><span>[</span><span style=color:#ff79c6>*</span><span>stuff_arr]</span><span style=color:#ff79c6>.</span><span>each { |</span><span style=color:#ffb86c;font-style:italic>s</span><span>| s }
</span></code></pre><p>Same in this one but using Array(...).<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#fff>Array</span><span>(stuff)</span><span style=color:#ff79c6>.</span><span>each { |</span><span style=color:#ffb86c;font-style:italic>s</span><span>| s }
</span><span style=color:#fff>Array</span><span>(stuff_arr)</span><span style=color:#ff79c6>.</span><span>each { |</span><span style=color:#ffb86c;font-style:italic>s</span><span>| s }
</span></code></pre><h2 id=double-pipe-equals>Double Pipe Equals ||=<a aria-label="Anchor link for: double-pipe-equals" class=zola-anchor href=#double-pipe-equals style=visibility:hidden>#</a></h2><p><a name=remove-folder style=padding:0px,margin:0px></a><p>The Double Pipe Equals is a great tool to write concise code.<p>It’s actually equivalent to the following:<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>a </span><span style=color:#ff79c6>||</span><span> a </span><span style=color:#ff79c6>=</span><span> b </span><span style=color:#6272a4># Correct
</span></code></pre><p>And not this one, as a lot of people think:<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>a </span><span style=color:#ff79c6>=</span><span> a </span><span style=color:#ff79c6>||</span><span> b </span><span style=color:#6272a4># Wrong
</span></code></pre><p>The second one doesn’t make sense because there is no point reassigning a if we already have it!<p>This operator can be used to create methods like this in your classes. I love to use it for calculations.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#ff79c6>def </span><span style=color:#50fa7b>total
</span><span>  </span><span style=color:#ffb86c>@total </span><span style=color:#ff79c6>||= </span><span>(</span><span style=color:#bd93f9>1</span><span style=color:#ff79c6>..</span><span style=color:#bd93f9>100000000</span><span>)</span><span style=color:#ff79c6>.</span><span style=color:#fff>to_a</span><span style=color:#ff79c6>.</span><span>inject(</span><span style=color:#bd93f9>:+</span><span>)
</span><span style=color:#ff79c6>end
</span></code></pre><p>Now you could have other method calling total to get the total value but it will only be calculated the first time.<h2 id=mandatory-hash-parameters>Mandatory hash parameters<a aria-label="Anchor link for: mandatory-hash-parameters" class=zola-anchor href=#mandatory-hash-parameters style=visibility:hidden>#</a></h2><p><a name=massive-assignment style=padding:0px,margin:0px></a><p>This one was introduced in Ruby 2.0. Instead of just defining a method that takes a hash in parameters like this:<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#ff79c6>def </span><span style=color:#50fa7b>my_method</span><span>({})
</span><span style=color:#ff79c6>end
</span></code></pre><p>You can specify the keys that you are waiting for and even define default values for them! a and b are mandatory keys.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#ff79c6>def </span><span style=color:#50fa7b>my_method</span><span>(</span><span style=color:#ffb86c;font-style:italic>a</span><span>:, </span><span style=color:#ffb86c;font-style:italic>b</span><span>:, </span><span style=color:#ffb86c;font-style:italic>c</span><span>: </span><span style=color:#f1fa8c>'default'</span><span>)
</span><span>  </span><span style=color:#ff79c6>return</span><span> a, b, c
</span><span style=color:#ff79c6>end
</span></code></pre><p>We can try to call it without giving a value for b but it won’t work.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>my_method(</span><span style=color:#bd93f9>a: 1</span><span>)
</span><span style=color:#6272a4># => ArgumentError: missing keyword: b
</span></code></pre><p>Since c has a default value, we can just call the method with a and b.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>my_method(</span><span style=color:#bd93f9>a: 1</span><span>, </span><span style=color:#bd93f9>b: 2</span><span>)
</span><span style=color:#6272a4># => [1, 2, "default"]
</span></code></pre><p>Or with all of them.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>my_method(</span><span style=color:#bd93f9>a: 1</span><span>, </span><span style=color:#bd93f9>b: 2</span><span>, </span><span style=color:#bd93f9>c: 3</span><span>)
</span><span style=color:#6272a4># => [1, 2, 3]
</span></code></pre><p>All we are doing is passing a hash and using some visual shortcuts but obviously, you can also pass a hash like this:<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#fff>hash </span><span style=color:#ff79c6>= </span><span>{ </span><span style=color:#bd93f9>a: 1</span><span>, </span><span style=color:#bd93f9>b: 2</span><span>, </span><span style=color:#bd93f9>c: 3 </span><span>}
</span><span>my_method(</span><span style=color:#fff>hash</span><span>)
</span><span style=color:#6272a4># => [1, 2, 3]
</span></code></pre><h2 id=generate-array-of-alphabet-or-numbers>Generate array of alphabet or numbers<a aria-label="Anchor link for: generate-array-of-alphabet-or-numbers" class=zola-anchor href=#generate-array-of-alphabet-or-numbers style=visibility:hidden>#</a></h2><p><a name=deep-copy style=padding:0px,margin:0px></a><p>You might want to generate a list of numbers or put the entire alphabet inside an array. Well, you can use ruby ranges to do this.<p>A to Z<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>(</span><span style=color:#f1fa8c>'a'</span><span style=color:#ff79c6>..</span><span style=color:#f1fa8c>'z'</span><span>)</span><span style=color:#ff79c6>.</span><span style=color:#fff>to_a
</span><span style=color:#6272a4># => ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]
</span></code></pre><p>1 to 10<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span>(</span><span style=color:#bd93f9>1</span><span style=color:#ff79c6>..</span><span style=color:#bd93f9>10</span><span>)</span><span style=color:#ff79c6>.</span><span style=color:#fff>to_a
</span><span style=color:#6272a4># => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</span></code></pre><h2 id=tap>Tap<a aria-label="Anchor link for: tap" class=zola-anchor href=#tap style=visibility:hidden>#</a></h2><p><a name=random-array style=padding:0px,margin:0px></a><p>Tap is a nice little method that improves code readability. Let’s take the following class as an example.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#ff79c6>class </span><span style=color:#8be9fd;text-decoration:underline>User
</span><span>  </span><span style=color:#ff79c6>attr_accessor </span><span style=color:#bd93f9>:a</span><span>, </span><span style=color:#bd93f9>:b</span><span>, </span><span style=color:#bd93f9>:c
</span><span style=color:#ff79c6>end
</span></code></pre><p>Now let’s say you want to instantiate a new user and assign a value to each of its attributes. You could do it like this:<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#ff79c6>def </span><span style=color:#50fa7b>my_method
</span><span>  o </span><span style=color:#ff79c6>= </span><span style=color:#66d9ef;font-style:italic>User</span><span style=color:#ff79c6>.new
</span><span>  o</span><span style=color:#ff79c6>.</span><span>a </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1
</span><span>  o</span><span style=color:#ff79c6>.</span><span>b </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>2
</span><span>  o</span><span style=color:#ff79c6>.</span><span>c </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>3
</span><span>  o
</span><span style=color:#ff79c6>end
</span><span>
</span></code></pre><p>Or you could use tap to do it like this.<pre class=language-ruby data-lang=ruby style=color:#f8f8f2;background-color:#282a36><code class=language-ruby data-lang=ruby><span style=color:#ff79c6>def </span><span style=color:#50fa7b>my_method
</span><span>  </span><span style=color:#66d9ef;font-style:italic>User</span><span style=color:#ff79c6>.new.</span><span style=color:#fff>tap </span><span style=color:#ff79c6>do </span><span>|</span><span style=color:#ffb86c;font-style:italic>o</span><span>|
</span><span>    o</span><span style=color:#ff79c6>.</span><span>a </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1
</span><span>    o</span><span style=color:#ff79c6>.</span><span>b </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>2
</span><span>    o</span><span style=color:#ff79c6>.</span><span>c </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>3
</span><span>  </span><span style=color:#ff79c6>end
</span><span style=color:#ff79c6>end
</span><span>
</span></code></pre><p>Basically, the tap method yields the calling object to the block and returns it.<hr><p>Thanks you for reading! Stay tunned to update the next chapter.<div class=pagination><div class=pagination__buttons><span class="button previous"> <a href=https://tduyng2.github.io/blog/better-in-ruby-01/> <span class=button__icon>←</span>  <span class=button__text>Better In Ruby - 01</span> </a> </span><span class="button next"> <a href=https://tduyng2.github.io/blog/python-vs-javascript/> <span class=button__text>Syntax Python vs Javascript</span>  <span class=button__icon>→</span> </a> </span></div></div></article><div class=giscus></div><script data-repo-id="MDEwOlJlcG9zaXRvcnkyNjAzNTM0NzM=" async crossorigin data-category=General data-category-id=DIC_kwDOD4Stwc4CfSpo data-dark-theme=noborder_dark data-emit-metadata=0 data-input-position=bottom data-lang=en data-lazy-loading=true data-light-theme=noborder_light data-mapping=specific data-reactions-enabled=1 data-repo=tduyng/tduyng.github.io data-strict=1 data-term=better-in-ruby-02 src=https://giscus.app/client.js></script></div><footer><div class=copyright><p>© 2024 Duy NG</div><a class="instant fold" href=/tags>tags</a><a class="instant fold" href=/subscribe>subscribe</a><a class="instant fold" href=/contact>contact</a><a class="instant fold" href=/privacy>privacy</a><a class="instant fold" href=/sitemap.xml>sitemap</a><a class="instant fold" href=/atom.xml>rss</a></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>