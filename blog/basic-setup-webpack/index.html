<!doctype html><html lang=en><head><meta charset=utf-8><meta content=dark name=color-scheme><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://tduyng2.github.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content="index, nofollow" name=robots><meta content="Learn the fundamental steps for setting up Webpack to optimize and bundle your web assets efficiently." name=description><title>Basic Setup Webpack</title><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content="Basic Setup Webpack" property=og:title><meta content=article property=og:type><meta content="Duy NG" property=og:site_name><meta content="Learn the fundamental steps for setting up Webpack to optimize and bundle your web assets efficiently." name=description><meta content="Learn the fundamental steps for setting up Webpack to optimize and bundle your web assets efficiently." property=og:description><meta content="https://tduyng2.github.io/img/avatar.webp?h=742e6e00a4c9ec8e8fc2" property=og:image><meta content=736 property=og:image:width><meta content=736 property=og:image:height><meta content="https://tduyng2.github.io/img/avatar.webp?h=742e6e00a4c9ec8e8fc2" name=twitter:image><meta content=summary_large_image name=twitter:card><style>body{--primary-color:#5871a2;--primary-pale-color:#5871a210;--text-color:#3c4043;--text-pale-color:#94969f;--bg-color:#fff;--highlight-mark-color:#5f75b035;--callout-note-color:#5871a2;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body.dark{--primary-color:#447dbf;--primary-pale-color:#5d77ac20;--text-color:#a5abba;--text-pale-color:#a5abba;--bg-color:#202124;--highlight-mark-color:#5f75b035;--callout-note-color:#5d77ac;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body{--main-font:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--homepage-max-width:768px;--main-max-width:768px;--avatar-size:60px;--icon-size:20px;--homepage-font-size:16px;--homepage-line-height:1.75;--paragraph-font-size:16px;--paragraph-line-height:1.75;--aside-font-size:15px;--img-border-radius:0px;--callout-border-radius:0px;--detail-border-radius:0px;--dark-mode-img-brightness:.75;--dark-mode-chart-brightness:.75;--inline-code-border-radius:2px;--inline-code-bg-color:var(--primary-pale-color);--block-code-border-radius:0px;--block-code-border-color:var(--primary-color);--detail-border-color:var(--primary-color)}</style><link href=/main.css rel=stylesheet><script async data-do-not-track=true data-website-id=0403ec1f-fbf8-4e6c-b24b-0c585ca25873 defer src=https://analytics.eu.umami.is/script.js></script><body class=post><script>const theme=sessionStorage.getItem(`theme`);const match=window.matchMedia(`(prefers-color-scheme: dark)`).matches;if(theme&&theme==`dark`||!theme&&match){document.body.classList.add(`dark`);const a=document.querySelector(`link#hl`);if(a)a.href=`/hl-dark.css`}</script><header class=blur><div id=header-wrapper><nav><a class=instant href=/>tduyng</a><button aria-label="toggle expand" class=separator id=toggler>::</button><span class="wrap left fold">{</span><a class=instant href=/blog>blog</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/projects>projects</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/about>about</a><span class="wrap right fold">} ;</span></nav><div id=btns><a aria-label="rss feed" href=/atom.xml id=rss-btn><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 17C5.20914 17 7 18.7909 7 21H3V17ZM3 10C9.07513 10 14 14.9249 14 21H12C12 16.0294 7.97056 12 3 12V10ZM3 3C12.9411 3 21 11.0589 21 21H19C19 12.1634 11.8366 5 3 5V3Z" fill=currentColor></path></svg></a><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><dialog id=rss-mask><div><a href=https://tduyng2.github.io/atom.xml>https://tduyng2.github.io/atom.xml</a><button data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' aria-label=copy autofocus data-link=https://tduyng2.github.io/atom.xml><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill=currentColor></path></svg></button></div></dialog><div id=wrapper><div id=blank></div><aside><nav><ul><li><a class=h2 href=#webpack-basics>Webpack basics</a> <ul><li><a class=h3 href=#setup-a-webpack-project>Setup a webpack project</a><li><a class=h3 href=#setup-babel>Setup Babel</a><li><a class=h3 href=#install-style-loader-file-loader>Install Style-loader & File loader</a></ul><li><a class=h2 href=#setup-webpack>Setup Webpack</a> <ul><li><a class=h3 href=#demo-code>Demo code</a><li><a class=h3 href=#explanation>Explanation</a></ul><li><a class=h2 href=#reference>Reference</a></ul></nav><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' class=prose><h1>Basic Setup Webpack</h1><div id=post-info><div id=date><span id=publish>2020-11-03</span></div><div id=tags><a class=instant href=https://tduyng2.github.io/tags/webpack><span>#</span>webpack</a></div></div><blockquote class="callout alert hidden" data-alert-text-after=" days ago and may be out of date." data-alert-text-before="This article was last updated " data-days=365 id=outdate_alert><div class=icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M4.00098 20V14C4.00098 9.58172 7.5827 6 12.001 6C16.4193 6 20.001 9.58172 20.001 14V20H21.001V22H3.00098V20H4.00098ZM6.00098 20H18.001V14C18.001 10.6863 15.3147 8 12.001 8C8.68727 8 6.00098 10.6863 6.00098 14V20ZM11.001 2H13.001V5H11.001V2ZM19.7792 4.80761L21.1934 6.22183L19.0721 8.34315L17.6578 6.92893L19.7792 4.80761ZM2.80859 6.22183L4.22281 4.80761L6.34413 6.92893L4.92991 8.34315L2.80859 6.22183ZM7.00098 14C7.00098 11.2386 9.23956 9 12.001 9V11C10.3441 11 9.00098 12.3431 9.00098 14H7.00098Z" fill=currentColor></path></svg></div><div class=content></div></blockquote><p>Webpack fundamentals for fast learning and step by step to setup a project with webpack.<h2 id=webpack-basics>Webpack basics<a aria-label="Anchor link for: webpack-basics" class=zola-anchor href=#webpack-basics style=visibility:hidden>#</a></h2><p><code>Webpack</code> is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging ...<p>Check more information on <a rel="nofollow noreferrer" href=https://webpack.js.org/>Webpack website</a><h3 id=setup-a-webpack-project>Setup a webpack project<a aria-label="Anchor link for: setup-a-webpack-project" class=zola-anchor href=#setup-a-webpack-project style=visibility:hidden>#</a></h3><ul><li>Create project and init <code>package.json</code> file<pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> mkdir webpack-basic
</span><span style=color:#50fa7b>$</span><span> cd webpack-basic
</span><span style=color:#50fa7b>$</span><span> npm init</span><span style=color:#ffb86c;font-style:italic> -y
</span></code></pre><li>In the root project create <code>public</code> folder and <code>index.html file</code><pre class=language-html data-lang=html style=color:#f8f8f2;background-color:#282a36><code class=language-html data-lang=html><span>&LT!</span><span style=color:#ff79c6>DOCTYPE </span><span style=color:#bd93f9>html</span><span>>
</span><span>  <</span><span style=color:#ff79c6>html </span><span style=color:#50fa7b>lang</span><span>=</span><span style=color:#f1fa8c>"en"</span><span>>
</span><span>
</span><span>  <</span><span style=color:#ff79c6>head</span><span>>
</span><span>    <</span><span style=color:#ff79c6>meta </span><span style=color:#50fa7b>charset</span><span>=</span><span style=color:#f1fa8c>"UTF-8"</span><span>>
</span><span>    <</span><span style=color:#ff79c6>meta </span><span style=color:#50fa7b>name</span><span>=</span><span style=color:#f1fa8c>"viewport" </span><span style=color:#50fa7b>content</span><span>=</span><span style=color:#f1fa8c>"width=device-width, initial-scale=1.0"</span><span>>
</span><span>    <</span><span style=color:#ff79c6>title</span><span>>Document&LT/</span><span style=color:#ff79c6>title</span><span>>
</span><span>  &LT/</span><span style=color:#ff79c6>head</span><span>>
</span><span>
</span><span>  <</span><span style=color:#ff79c6>body</span><span>>
</span><span>    <</span><span style=color:#ff79c6>div </span><span style=color:#50fa7b>id</span><span>=</span><span style=color:#f1fa8c>"root"</span><span>>
</span><span>      <</span><span style=color:#ff79c6>h1</span><span>>Webpack basic&LT/</span><span style=color:#ff79c6>h1</span><span>>
</span><span>    &LT/</span><span style=color:#ff79c6>div</span><span>>
</span><span>    <</span><span style=color:#ff79c6>script </span><span style=color:#50fa7b>src</span><span>=</span><span style=color:#f1fa8c>"../dist/bundle.js"</span><span>>&LT/</span><span style=color:#ff79c6>script</span><span>>
</span><span>  &LT/</span><span style=color:#ff79c6>body</span><span>>
</span><span>
</span><span>&LT/</span><span style=color:#ff79c6>html</span><span>>
</span></code></pre></ul><h3 id=setup-babel>Setup Babel<a aria-label="Anchor link for: setup-babel" class=zola-anchor href=#setup-babel style=visibility:hidden>#</a></h3><p>Babel is a toolchain that is mainly used to convert ECMAScript 2015+ code into a backwards compatible version of JavaScript in current and older browsers or environments.<p>See the website <a rel="nofollow noreferrer" href=https://babeljs.io/>babeljs.io</a> for more information.<ul><li><p>Installation</p> <pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> yarn add @babel/core @babel/preset-env babel-loader
</span><span style=color:#6272a4># Or using npm
</span><span style=color:#50fa7b>$</span><span> npm i</span><span style=color:#ffb86c;font-style:italic> -D</span><span> @babel/core @babel/preset-env babel-loader
</span></code></pre> <ul><li><code>@babel/core</code>: Core of babel contains algorithms of its<li><code>@babel/preset-env</code>: is a smart preset that allows you to use the latest JavaScript without needing to micromanage which syntax transforms (and optionally, browser polyfills) are needed by your target environment(s). This both makes your life easier and JavaScript bundles smaller!. Check official website of <a href="https://babeljs.io/docs/en/babel-preset-env#:~:text=%40babel%2Fpreset%2Denv%20is,Install" rel="nofollow noreferrer">@babel/preset-env</a> for more details.<li><code>babel-loader</code>: This package allows transpiling JavaScript files using Babel and webpack. Check <a rel="nofollow noreferrer" href=https://github.com/babel/babel-loader>babel-loader github</a>.</ul></ul><h3 id=install-style-loader-file-loader>Install Style-loader & File loader<a aria-label="Anchor link for: install-style-loader-file-loader" class=zola-anchor href=#install-style-loader-file-loader style=visibility:hidden>#</a></h3><pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> yarn add css-loader file-loader sass sass-loader style-loader</span><span style=color:#ffb86c;font-style:italic> -D
</span></code></pre><ul><li><code>style-loader</code>, <code>css-loader</code>: help you to import <code>css</code> into <code>js</code> file<li><code>sass</code>, <code>sass-loader</code> help you compile <code>scss</code> to <code>css</code><li><code>file-loader</code>: help you import file as <code>image</code>, <code>video</code> to <code>js</code> file</ul><h2 id=setup-webpack>Setup Webpack<a aria-label="Anchor link for: setup-webpack" class=zola-anchor href=#setup-webpack style=visibility:hidden>#</a></h2><ul><li><p>Installation</p> <pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> npm install webpack webpack-cli webpack-dev-server</span><span style=color:#ffb86c;font-style:italic> -D
</span></code></pre> <ul><li><code>webpack</code>: core of webpack<li><code>webpack-cli</code>: allow us to use command of webpack on the terminal<li><code>webpack-dev-server</code>: can be use to create a <code>local server</code> for dev environment</ul><li><p>Configuration</p> <p>Create <code>webpack.config.js</code> file in the root project and paste the following code.</p> <pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>path </span><span style=color:#ff79c6>= </span><span style=color:#8be9fd>require</span><span>(</span><span style=color:#f1fa8c>'path'</span><span>)
</span><span style=color:#66d9ef;font-style:italic>module</span><span style=color:#ff79c6>.</span><span style=color:#66d9ef;font-style:italic>exports </span><span style=color:#ff79c6>= </span><span>(</span><span style=color:#ffb86c;font-style:italic>env</span><span>, </span><span style=color:#ffb86c;font-style:italic>agrv</span><span>) </span><span style=color:#8be9fd;font-style:italic>=> </span><span>{
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>= </span><span style=color:#fff>agrv</span><span style=color:#ff79c6>.</span><span style=color:#fff>mode </span><span style=color:#ff79c6>=== </span><span style=color:#f1fa8c>'development'
</span><span>  </span><span style=color:#ff79c6>return </span><span>{
</span><span>    entry: </span><span style=color:#f1fa8c>'./src/index.js'</span><span>,
</span><span>    module: {
</span><span>      rules: [
</span><span>        {
</span><span>          test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>(js</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>jsx)</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>          exclude: </span><span style=color:#f1fa8c>/(node_modules</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>bower_components)/</span><span>,
</span><span>          use: {
</span><span>            loader: </span><span style=color:#f1fa8c>'babel-loader'</span><span>,
</span><span>            options: {
</span><span>              presets: [</span><span style=color:#f1fa8c>'@babel/preset-env'</span><span>]
</span><span>            }
</span><span>          }
</span><span>        },
</span><span>        {
</span><span>          test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>(s</span><span style=color:#bd93f9>[ac]</span><span style=color:#f1fa8c>ss</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>css)</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>          use: [
</span><span>            </span><span style=color:#f1fa8c>'style-loader'</span><span>,
</span><span>            {
</span><span>              loader: </span><span style=color:#f1fa8c>'css-loader'</span><span>,
</span><span>              options: { sourceMap: </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>? </span><span style=color:#bd93f9>true </span><span style=color:#ff79c6>: </span><span style=color:#bd93f9>false </span><span>}
</span><span>            },
</span><span>            {
</span><span>              loader: </span><span style=color:#f1fa8c>'sass-loader'</span><span>,
</span><span>              options: { sourceMap: </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>? </span><span style=color:#bd93f9>true </span><span style=color:#ff79c6>: </span><span style=color:#bd93f9>false </span><span>}
</span><span>            }
</span><span>          ]
</span><span>        },
</span><span>        {
</span><span>          test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>(png</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>svg</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>jpg</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>gif)</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>          use: [
</span><span>            {
</span><span>              loader: </span><span style=color:#f1fa8c>'file-loader'</span><span>,
</span><span>              options: {
</span><span>                name: </span><span style=color:#f1fa8c>'[path][name].[ext]'
</span><span>              }
</span><span>            }
</span><span>          ]
</span><span>        }
</span><span>      ]
</span><span>    },
</span><span>    resolve: { extensions: [</span><span style=color:#f1fa8c>'.js'</span><span>, </span><span style=color:#f1fa8c>'.jsx'</span><span>] },
</span><span>    output: {
</span><span>      path: </span><span style=color:#fff>path</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>resolve</span><span>(</span><span style=color:#f1fa8c>'dist'</span><span>),
</span><span>      publicPath: </span><span style=color:#f1fa8c>'../dist/'</span><span>,
</span><span>      filename: </span><span style=color:#f1fa8c>'bundle.js'</span><span>,
</span><span>      environment: {
</span><span>        arrowFunction: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        bigIntLiteral: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        const: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        destructuring: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        dynamicImport: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        forOf: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        module: </span><span style=color:#bd93f9>false
</span><span>      }
</span><span>    },
</span><span>    devtool: </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>? </span><span style=color:#f1fa8c>'source-map' </span><span style=color:#ff79c6>: </span><span style=color:#bd93f9>false</span><span>,
</span><span>    devServer: {
</span><span>      contentBase: </span><span style=color:#f1fa8c>'public'</span><span>,
</span><span>      port: </span><span style=color:#bd93f9>3000</span><span>,
</span><span>      hot: </span><span style=color:#bd93f9>true</span><span>,
</span><span>      publicPath: </span><span style=color:#f1fa8c>'/dist/'</span><span>,
</span><span>      watchContentBase: </span><span style=color:#bd93f9>true
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre><li><p>Script to run server Edit script in <code>package.json</code> file to run and build server.</p> <pre class=language-json data-lang=json style=color:#f8f8f2;background-color:#282a36><code class=language-json data-lang=json><span style=color:#eee>"</span><span style=color:#f1fa8c>scripts</span><span style=color:#eee>"</span><span>: {
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>start</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>webpack serve --mode development</span><span style=color:#eee>"</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>build</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>webpack --mode production</span><span style=color:#eee>"
</span><span>  }
</span></code></pre></ul><h3 id=demo-code>Demo code<a aria-label="Anchor link for: demo-code" class=zola-anchor href=#demo-code style=visibility:hidden>#</a></h3><p>To understand better how webpack works, we will create some simple demo code<ul><li><p>Create <code>src</code> folder in the root of project and a <code>src/add.js</code> file</p> <pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#6272a4>//src/add.js
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>add </span><span style=color:#ff79c6>= </span><span>(</span><span style=color:#ffb86c;font-style:italic>a </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1</span><span>, </span><span style=color:#ffb86c;font-style:italic>b</span><span style=color:#ff79c6>=</span><span style=color:#bd93f9>2</span><span>) </span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#fff>a</span><span style=color:#ff79c6>+ </span><span style=color:#fff>b</span><span>;
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>treeShaking </span><span style=color:#ff79c6>= </span><span>() </span><span style=color:#8be9fd;font-style:italic>=></span><span>{
</span><span>  </span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#f1fa8c>'This phrase will be not in the build file'</span><span>)
</span><span>}
</span></code></pre><li><p>Create more functions</p> <pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#6272a4>// src/substract.js
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>substract </span><span style=color:#ff79c6>= </span><span>(</span><span style=color:#ffb86c;font-style:italic>a</span><span>, </span><span style=color:#ffb86c;font-style:italic>b</span><span>)</span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#fff>a</span><span style=color:#ff79c6>-</span><span style=color:#fff>b</span><span>;
</span><span>
</span></code></pre> <pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#6272a4>// src/loadImage.js
</span><span style=color:#ff79c6>import </span><span style=color:#fff>logo </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./logo.webp'
</span><span>
</span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>component </span><span style=color:#ff79c6>= </span><span>() </span><span style=color:#8be9fd;font-style:italic>=></span><span>{
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>element </span><span style=color:#ff79c6>= </span><span>document</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>createElement</span><span>(</span><span style=color:#f1fa8c>'div'</span><span>);
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>webpackLogo  </span><span style=color:#ff79c6>= new </span><span>Image();
</span><span>  </span><span style=color:#fff>webpackLogo</span><span style=color:#ff79c6>.</span><span style=color:#fff>src </span><span style=color:#ff79c6>= </span><span style=color:#fff>logo</span><span>;
</span><span>  </span><span style=color:#fff>webpackLogo</span><span style=color:#ff79c6>.</span><span>width </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>200</span><span>;
</span><span>  </span><span style=color:#fff>element</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>appendChild</span><span>(</span><span style=color:#fff>webpackLogo</span><span>);
</span><span>  </span><span style=color:#ff79c6>return </span><span style=color:#fff>element</span><span>;
</span><span>}
</span><span>
</span><span>document</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>getElementById</span><span>(</span><span style=color:#f1fa8c>'root'</span><span>)</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>appendChild</span><span>(</span><span style=color:#50fa7b>component</span><span>())
</span></code></pre> <pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#6272a4>// src/index.js
</span><span style=color:#ff79c6>import </span><span>{</span><span style=color:#fff>substract</span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./substract'</span><span>;
</span><span style=color:#ff79c6>import </span><span>{</span><span style=color:#fff>add</span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./add'</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#f1fa8c>'./loadImage'</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#f1fa8c>'.index.scss'</span><span>;
</span><span>
</span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#f1fa8c>`1 + 2 = ${</span><span style=color:#50fa7b>add</span><span style=color:#f1fa8c>(</span><span style=color:#bd93f9>1</span><span style=color:#f1fa8c>,</span><span style=color:#bd93f9>2</span><span style=color:#f1fa8c>}`)
</span><span style=color:#f1fa8c>console.log(`</span><span style=color:#bd93f9>8 </span><span style=color:#ff79c6>- </span><span style=color:#bd93f9>2 </span><span style=color:#ff79c6>= </span><span style=color:#fff>$</span><span style=color:#f1fa8c>{</span><span style=color:#50fa7b>substract</span><span style=color:#f1fa8c>(8,2)`)
</span></code></pre> <p>And we have a tree folder:</p> <pre style=color:#f8f8f2;background-color:#282a36><code><span># webpack-basic project
</span><span>.
</span><span>├── node_modules
</span><span>├── package.json
</span><span>├── package-lock.json
</span><span>├── public
</span><span>│   └── index.html
</span><span>├── src
</span><span>│   ├── add.js
</span><span>│   ├── index.js
</span><span>│   ├── index.scss
</span><span>│   ├── loadImage.js
</span><span>│   ├── logo.webp
</span><span>│   └── substract.js
</span><span>├── webpack.config.js
</span><span>└── yarn.lock
</span></code></pre><li><p>Run server to see the result at <a rel="nofollow noreferrer" href=http://localhost:3000>http://localhost:3000</a></p> <pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> npm run start
</span><span style=color:#6272a4># or
</span><span style=color:#50fa7b>$</span><span> yarn start
</span></code></pre> <p>If you want to build webpack:</p> <pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> yarn build
</span></code></pre></ul><h3 id=explanation>Explanation<a aria-label="Anchor link for: explanation" class=zola-anchor href=#explanation style=visibility:hidden>#</a></h3><h4 id=configuration-in-webpack-config-js-file>Configuration in <code>webpack.config.js</code> file<a aria-label="Anchor link for: configuration-in-webpack-config-js-file" class=zola-anchor href=#configuration-in-webpack-config-js-file style=visibility:hidden>#</a></h4><ul><li><p><code>Definition</code>: This is the main configuration webpack file. Webpack configs allow you to configure and extend Webpack's basic functionality. A Webpack config is a JavaScript object that configures one of Webpack's options.</p> <p>When we run <code>webpack</code> command in the <code>package.json</code> file, webpack will be take automatically the configuration in this file.</p> <p>For more information of configuration of webpack <a rel="nofollow noreferrer" href=https://webpack.js.org/configuration/>webpack configuration</a></p><li><p><code>Exporting</code>: In the <code>config</code> file, we can export an <strong>object</strong>, a <strong>function</strong>, an <strong>array</strong> or a <strong>promise</strong>. In this article, we will see how to export a function, because it allows us to use the arguments passed from outside. Check <a rel="nofollow noreferrer" href=https://webpack.js.org/configuration/configuration-types/>Webpack configuration type</a>.</p><li><p><code>Mode</code>: We need to provide a <strong>mode</strong> configuration option when configure webpack. Each mode has its own a config settings. Check <a rel="nofollow noreferrer" href=https://webpack.js.org/configuration/mode/>Webpack mode</a></p> <p>If you remember, we have used this mode to run 2 different cases for server in the <code>package.json</code> file, for the <strong>development</strong> and <strong>production</strong> mode.</p> <pre class=language-json data-lang=json style=color:#f8f8f2;background-color:#282a36><code class=language-json data-lang=json><span style=color:#eee>"</span><span style=color:#f1fa8c>start</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>webpack serve --mode development</span><span style=color:#eee>"</span><span>,
</span><span style=color:#eee>"</span><span style=color:#f1fa8c>build</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>webpack --mode production</span><span style=color:#eee>"
</span></code></pre> <p>And in the <code>webpack.config.js</code> we can define the mode by using <code>argv.mode</code></p><li><p><code>Entry</code>: Entry points of your project where you put the main code to run your server. Check <a rel="nofollow noreferrer" href=https://webpack.js.org/concepts/entry-points/>Webpack entry point</a></p><li><p><code>module.rules</code>: Array contains the <code>loaders</code></p><li><p><code>test</code>: Using <strong>regex</strong> to determine the file type. If it is <code>true</code> then it will run the loader.</p> <p>The <code>babel-loader</code> will run the <code>js</code> or <code>jsx</code> file. <code>style-loader</code> will run <code>sass</code>, <code>scss</code> and <code>css</code> file.</p> <p><code>file-loader</code> will run png, svg, jpg, gif... (image and video) file.</p><li><p><code>exclude</code>: Enter a <strong>regex</strong>, the <code>loader</code> will ignore these file and folder.</p><li><p><code>use</code>: Retrieve an object or an array containing loader information.</p> <ul><li>Notice for <code>babel-loader</code>: using presets <code>@babel/preset</code> by default. It will compile to ES5 syntax.<li>Notice for <code>style-loader</code>: using <strong>sourMap</strong> to easier debug when dev.<li>Notice for <code>file-loader</code>: using <code>[path][name].[ext]</code> means after build, the files will be created with the similar names in similar folder. For example: if you have <code>src/logo.webp</code> file, when you build it, you will have <code>dist/src/logo.webp</code>.</ul><li><p><code>resolve: { extensions: [‘.js’, ‘.jsx’] }</code>: The priority order when import files. For example, there are 2 files name.js and name.jsx in the same folder. In another file you import * from 'name', it will prioritize .js file</p><li><p><code>output</code>: configuration of build file webpack</p> <ul><li><code>output.path</code>: the absolute path to the directory after build. For the absolute path, we usually use <code>path.resolve()</code> or <code>path.join()</code> in combination with the global variable <code>__dirname</code>.<li><code>output.publicPath</code>: the relative path from the <code>index.html</code> file pointing to the files in the <strong>dist</strong> directory after build.</ul> <p>For example: in the file <code>loadImage.js</code>, we import logo, the logo variable will be become: <code>output.publicPath + 'src/logo.webp</code>. If after the build, we run the <code>index.html</code> file in a different location not in <strong>the public directory</strong>, we will accidentally make the logo variable wrong.</p> <ul><li><code>output.filename</code>: filename of js bundle after build<li><code>output.environment</code>: By default, webpack will generate code using the ES6 syntax. If you don't want this, you can modify the target build by yourself in the <code>output.environment</code> <ul><li><strong>arrowFunction</strong>: support arrow function.<li><strong>bigIntLiteral</strong>: support BigInt<li><strong>const</strong>: support declaration <code>const</code> và <code>let</code><li><strong>destructuring</strong>: support destructuring<li><strong>dynamicImport</strong>: support async import<li><strong>forOf</strong>: support <code>forOf</code> for array<li><strong>module</strong>: support moudle ES6 (import … from ‘…’)</ul></ul><li><p><code>devtool</code>: contains the configuration file after dev or after build. When you in the dev step, you can use <code>source-map</code> to debug more simply. But we don't use it in the production to reduce the volume of file when build.</p> <p>Check <a rel="nofollow noreferrer" href=https://webpack.js.org/configuration/devtool/>Devtool Webpack</a></p><li><p><code>devServer</code>: You can imagine, it will create a server <strong>localhost</strong> at the root folder</p> <ul><li><strong>devServer.contentBase</strong>: the path directory where contains <code>index.html</code> file. Here is <code>public</code><li><strong>devServer.port</strong>: port of localhost<li><strong>devServer.hot</strong>: The mode <code>hot reload</code>. By default, on the dev server, webpack will refresh the page every time when there is a slight change in the code. The <code>hot reload</code> helps use to see the change but don't need reload page.<li><strong>devServer.publicPath</strong>: the relative path from root directory pointing to the build directory. Here is <code>/dist/</code> --> / is root folder<li><strong>devServer.watchContentBase</strong>: If you have the change in the <code>index.html</code>, browser will reload automatically.</ul></ul><h4 id=tree-shaking-in-webpack>Tree Shaking in Webpack<a aria-label="Anchor link for: tree-shaking-in-webpack" class=zola-anchor href=#tree-shaking-in-webpack style=visibility:hidden>#</a></h4><p>If you pay attention, in the <code>src/add.js</code> file, we added a function <code>treeShaking</code>. This function is exported but we did not use it anywhere in project. So webpack will not use this function and you cant find it in the build file.<p>This is a called the <a rel="nofollow noreferrer" href=https://webpack.js.org/guides/tree-shaking/>tree shaking</a> feature to help us to reduce unused module export.<p>But this feature only works with code using <a rel="nofollow noreferrer" href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules>ES Module syntax </a> (<strong>import export ...</strong>)<p>A typical example is the <a rel="nofollow noreferrer" href=https://lodash.com/>lodash</a> library. If you <code>import {get} from 'lodash'</code>, webpack won't tree shake. It will still import a huge lodash library to your bundle file. There are no different from : <code>import _ from 'lodash'</code><p>To fix this problem, we can use the syntax <code>import get from 'lodash/get</code>. Or simply use the <a rel="nofollow noreferrer" href=https://www.npmjs.com/package/lodash-es>lodash es</a> library.<p>For more detail <a rel="nofollow noreferrer" href=https://webpack.js.org/guides/tree-shaking/>Tree Shaking Webpack</a><hr><p>Yeezze! That's it.<p>Practice yourselves to understand better the configuration of webpack.<h1 id=reference>Reference<a aria-label="Anchor link for: reference" class=zola-anchor href=#reference style=visibility:hidden>#</a></h1><p><a rel="nofollow noreferrer" href=https://github.com/tduyng/webpack/tree/master/webpack-basic>Source code GitHub</a><div class=pagination><div class=pagination__buttons><span class="button previous"> <a href=https://tduyng2.github.io/blog/python-vs-javascript/> <span class=button__icon>←</span>  <span class=button__text>Syntax Python vs Javascript</span> </a> </span><span class="button next"> <a href=https://tduyng2.github.io/blog/setup-webpack-with-typescript/> <span class=button__text>Setup Webpack TypeScript</span>  <span class=button__icon>→</span> </a> </span></div></div></article><div class=giscus></div><script data-repo-id="MDEwOlJlcG9zaXRvcnkyNjAzNTM0NzM=" async crossorigin data-category=General data-category-id=DIC_kwDOD4Stwc4CfSpo data-dark-theme=noborder_dark data-emit-metadata=0 data-input-position=bottom data-lang=en data-lazy-loading=true data-light-theme=noborder_light data-mapping=specific data-reactions-enabled=1 data-repo=tduyng/tduyng.github.io data-strict=1 data-term=basic-setup-webpack src=https://giscus.app/client.js></script></div><footer><div class=copyright><p>© 2024 Duy NG</div><a class="instant fold" href=/tags>tags</a><a class="instant fold" href=/subscribe>subscribe</a><a class="instant fold" href=/contact>contact</a><a class="instant fold" href=/privacy>privacy</a><a class="instant fold" href=/sitemap.xml>sitemap</a><a class="instant fold" href=/atom.xml>rss</a></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>