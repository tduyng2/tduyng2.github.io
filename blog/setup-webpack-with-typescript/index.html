<!doctype html><html lang=en><head><meta charset=utf-8><meta content=dark name=color-scheme><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://tduyng2.github.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content="index, nofollow" name=robots><meta content="Discover how to configure Webpack with TypeScript to enhance your web development workflow with type safety and modern JavaScript features." name=description><title>Setup Webpack TypeScript</title><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content="Setup Webpack TypeScript" property=og:title><meta content=article property=og:type><meta content="Duy NG" property=og:site_name><meta content="Discover how to configure Webpack with TypeScript to enhance your web development workflow with type safety and modern JavaScript features." name=description><meta content="Discover how to configure Webpack with TypeScript to enhance your web development workflow with type safety and modern JavaScript features." property=og:description><meta content="https://tduyng2.github.io/img/avatar.webp?h=742e6e00a4c9ec8e8fc2" property=og:image><meta content=736 property=og:image:width><meta content=736 property=og:image:height><meta content="https://tduyng2.github.io/img/avatar.webp?h=742e6e00a4c9ec8e8fc2" name=twitter:image><meta content=summary_large_image name=twitter:card><style>body{--primary-color:#5871a2;--primary-pale-color:#5871a210;--text-color:#3c4043;--text-pale-color:#94969f;--bg-color:#fff;--highlight-mark-color:#5f75b035;--callout-note-color:#5871a2;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body.dark{--primary-color:#447dbf;--primary-pale-color:#5d77ac20;--text-color:#a5abba;--text-pale-color:#a5abba;--bg-color:#202124;--highlight-mark-color:#5f75b035;--callout-note-color:#5d77ac;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body{--main-font:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--homepage-max-width:768px;--main-max-width:768px;--avatar-size:60px;--icon-size:20px;--homepage-font-size:16px;--homepage-line-height:1.75;--paragraph-font-size:16px;--paragraph-line-height:1.75;--aside-font-size:15px;--img-border-radius:0px;--callout-border-radius:0px;--detail-border-radius:0px;--dark-mode-img-brightness:.75;--dark-mode-chart-brightness:.75;--inline-code-border-radius:2px;--inline-code-bg-color:var(--primary-pale-color);--block-code-border-radius:0px;--block-code-border-color:var(--primary-color);--detail-border-color:var(--primary-color)}</style><link href=/main.css rel=stylesheet><script async data-do-not-track=true data-website-id=0403ec1f-fbf8-4e6c-b24b-0c585ca25873 defer src=https://analytics.eu.umami.is/script.js></script><body class=post><script>const theme=sessionStorage.getItem(`theme`);const match=window.matchMedia(`(prefers-color-scheme: dark)`).matches;if(theme&&theme==`dark`||!theme&&match){document.body.classList.add(`dark`);const a=document.querySelector(`link#hl`);if(a)a.href=`/hl-dark.css`}</script><header class=blur><div id=header-wrapper><nav><a class=instant href=/>tduyng</a><button aria-label="toggle expand" class=separator id=toggler>::</button><span class="wrap left fold">{</span><a class=instant href=/blog>blog</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/projects>projects</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/about>about</a><span class="wrap right fold">} ;</span></nav><div id=btns><a aria-label="rss feed" href=/atom.xml id=rss-btn><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 17C5.20914 17 7 18.7909 7 21H3V17ZM3 10C9.07513 10 14 14.9249 14 21H12C12 16.0294 7.97056 12 3 12V10ZM3 3C12.9411 3 21 11.0589 21 21H19C19 12.1634 11.8366 5 3 5V3Z" fill=currentColor></path></svg></a><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><dialog id=rss-mask><div><a href=https://tduyng2.github.io/atom.xml>https://tduyng2.github.io/atom.xml</a><button data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' aria-label=copy autofocus data-link=https://tduyng2.github.io/atom.xml><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill=currentColor></path></svg></button></div></dialog><div id=wrapper><div id=blank></div><aside><nav><ul><li><a class=h2 href=#install-webpack-and-loaders-packages>Install webpack and loaders packages</a><li><a class=h2 href=#create-project-files>Create project files</a><li><a class=h2 href=#configuration>Configuration</a> <ul><li><a class=h3 href=#tsconfig-json>tsconfig.json</a><li><a class=h3 href=#webpack-config-js>webpack.config.js</a><li><a class=h3 href=#structure-of-project>Structure of project</a></ul><li><a class=h2 href=#reference>Reference</a></ul></nav><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' class=prose><h1>Setup Webpack TypeScript</h1><div id=post-info><div id=date><span id=publish>2020-11-14</span></div><div id=tags><a class=instant href=https://tduyng2.github.io/tags/webpack><span>#</span>webpack</a><a class=instant href=https://tduyng2.github.io/tags/typescript><span>#</span>typescript</a></div></div><blockquote class="callout alert hidden" data-alert-text-after=" days ago and may be out of date." data-alert-text-before="This article was last updated " data-days=365 id=outdate_alert><div class=icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M4.00098 20V14C4.00098 9.58172 7.5827 6 12.001 6C16.4193 6 20.001 9.58172 20.001 14V20H21.001V22H3.00098V20H4.00098ZM6.00098 20H18.001V14C18.001 10.6863 15.3147 8 12.001 8C8.68727 8 6.00098 10.6863 6.00098 14V20ZM11.001 2H13.001V5H11.001V2ZM19.7792 4.80761L21.1934 6.22183L19.0721 8.34315L17.6578 6.92893L19.7792 4.80761ZM2.80859 6.22183L4.22281 4.80761L6.34413 6.92893L4.92991 8.34315L2.80859 6.22183ZM7.00098 14C7.00098 11.2386 9.23956 9 12.001 9V11C10.3441 11 9.00098 12.3431 9.00098 14H7.00098Z" fill=currentColor></path></svg></div><div class=content></div></blockquote><p>How to setup a webpack project with TypeScript?<p>We continue from the previous article <a href=/blog/basic-setup-webpack>basic setup webpack</a>. In this article, we will discover how to setup a webpack project with TypeScript and using plugin in Webpack.<h2 id=install-webpack-and-loaders-packages>Install webpack and loaders packages<a aria-label="Anchor link for: install-webpack-and-loaders-packages" class=zola-anchor href=#install-webpack-and-loaders-packages style=visibility:hidden>#</a></h2><ul><li><p>Create new project and install packages dependencies</p> <pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> mkdir webpack-typescript
</span><span style=color:#50fa7b>$</span><span> cd webpack-typescript
</span><span style=color:#50fa7b>$</span><span> npm init</span><span style=color:#ffb86c;font-style:italic> -y
</span><span style=color:#50fa7b>$</span><span> yarn add webpack webpack-cli webpack-dev-server style-loader css-loader sass sass-loader file-loader</span><span style=color:#ffb86c;font-style:italic> -D
</span></code></pre> <p>To understand each dependencies means, checkout my previous article <a href=/blog/basic-setup-webpack>basic setup webpack</a></p><li><p>Install HTMLWebpackPlugin</p> <pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> yarn add html-webpack-plugin</span><span style=color:#ffb86c;font-style:italic> -D
</span></code></pre> <p>This plugin will help use import automatically the new <code>bundle.js</code> file after build into <code>index.html</code> build file. You will see more explanation below.</p><li><p>Install TypeScript <a rel="nofollow noreferrer" href=https://www.typescriptlang.org/>TypeScript</a> extends JavaScript by adding types. By understanding JavaScript, TypeScript saves you time catching errors, debug adn providing fixes before you run code. Any browser, any OS, anywhere JavaScript runs.</p> <p>We can use TypeScript to compile to the compatible JavaScript version, so we don't need use <code>babel</code> in this case.</p> <pre class=language-bash data-lang=bash style=color:#f8f8f2;background-color:#282a36><code class=language-bash data-lang=bash><span style=color:#50fa7b>$</span><span> yarn add typescript ts-loader</span><span style=color:#ffb86c;font-style:italic> -D
</span></code></pre> <ul><li><strong>typescript</strong>: install TypeScript language for your project. You can also install TypeScript on your machine as <code>Nodejs</code>, <code>Python</code> and the other programming languages with command: <code>yarn add global typescript</code>.<li><strong>ts-loader</strong>: allow integrate TypeScript to webpack</ul></ul><h2 id=create-project-files>Create project files<a aria-label="Anchor link for: create-project-files" class=zola-anchor href=#create-project-files style=visibility:hidden>#</a></h2><p>We will create a simple project to understand each config for webpack project using TypeScript. This project will be the same the <a rel="nofollow noreferrer" href=https://github.com/tduyng/webpack/tree/master/webpack-basic>previous project</a>. But we will code in TypeScript.<ul><li><p><code>public/index.html</code> file</p> <pre class=language-html data-lang=html style=color:#f8f8f2;background-color:#282a36><code class=language-html data-lang=html><span>&LT!</span><span style=color:#ff79c6>DOCTYPE </span><span style=color:#bd93f9>html</span><span>>
</span><span>  <</span><span style=color:#ff79c6>html </span><span style=color:#50fa7b>lang</span><span>=</span><span style=color:#f1fa8c>"en"</span><span>>
</span><span>
</span><span>  <</span><span style=color:#ff79c6>head</span><span>>
</span><span>    <</span><span style=color:#ff79c6>meta </span><span style=color:#50fa7b>charset</span><span>=</span><span style=color:#f1fa8c>"UTF-8"</span><span>>
</span><span>    <</span><span style=color:#ff79c6>meta </span><span style=color:#50fa7b>name</span><span>=</span><span style=color:#f1fa8c>"viewport" </span><span style=color:#50fa7b>content</span><span>=</span><span style=color:#f1fa8c>"width=device-width, initial-scale=1.0"</span><span>>
</span><span>    <</span><span style=color:#ff79c6>title</span><span>>Webpack&LT/</span><span style=color:#ff79c6>title</span><span>>
</span><span>  &LT/</span><span style=color:#ff79c6>head</span><span>>
</span><span>
</span><span>  <</span><span style=color:#ff79c6>body</span><span>>
</span><span>    <</span><span style=color:#ff79c6>div </span><span style=color:#50fa7b>id</span><span>=</span><span style=color:#f1fa8c>"root"</span><span>>
</span><span>      <</span><span style=color:#ff79c6>h1</span><span>>Webpack with TypeScript&LT/</span><span style=color:#ff79c6>h1</span><span>>
</span><span>    &LT/</span><span style=color:#ff79c6>div</span><span>>
</span><span>
</span><span>  &LT/</span><span style=color:#ff79c6>body</span><span>>
</span><span>&LT/</span><span style=color:#ff79c6>html</span><span>>
</span></code></pre> <p>Notice: you can see, we don't import any <code>js</code> file. The reason is <code>HtmlWebpackPlugin</code>, will be explained below.</p><li><p><code>src/add.ts</code></p> <pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>add </span><span style=color:#ff79c6>= </span><span>(</span><span style=color:#ffb86c;font-style:italic>a </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>1</span><span>, </span><span style=color:#ffb86c;font-style:italic>b </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>2</span><span>)</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>number </span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#fff>a </span><span style=color:#ff79c6>+ </span><span style=color:#fff>b</span><span>;
</span><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>treeShaking </span><span style=color:#ff79c6>= </span><span>()</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>void </span><span style=color:#8be9fd;font-style:italic>=> </span><span>{
</span><span>  </span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#f1fa8c>'This phrase will not appear on build file'</span><span>);
</span><span>};
</span><span>
</span></code></pre><li><p><code>src/app.d.ts</code></p> <p>Why this file? TypeScript is a strong type, it will not consider files as images, videos as modules, and we can't import them. So we need declare the type for each file type.</p> <pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#ff79c6>declare </span><span style=color:#8be9fd;font-style:italic>module  </span><span style=color:#f1fa8c>'*.png'</span><span>{
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>src</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>string</span><span>;
</span><span>  </span><span style=color:#ff79c6>export default </span><span style=color:#fff>src
</span><span>}
</span><span style=color:#ff79c6>declare </span><span style=color:#8be9fd;font-style:italic>module  </span><span style=color:#f1fa8c>'*.jpg'</span><span>{
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>src</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>string</span><span>;
</span><span>  </span><span style=color:#ff79c6>export default </span><span style=color:#fff>src
</span><span>}
</span><span style=color:#ff79c6>declare </span><span style=color:#8be9fd;font-style:italic>module  </span><span style=color:#f1fa8c>'*.jpeg'</span><span>{
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>src</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>string</span><span>;
</span><span>  </span><span style=color:#ff79c6>export default </span><span style=color:#fff>src
</span><span>}
</span></code></pre><li><p><code>src/index.scss</code></p> <pre class=language-scss data-lang=scss style=color:#f8f8f2;background-color:#282a36><code class=language-scss data-lang=scss><span>$color: </span><span style=color:#bd93f9>#ddd</span><span>;
</span><span style=color:#50fa7b>#root </span><span>{
</span><span>  </span><span style=color:#66d9ef;font-style:italic>text-align</span><span>: </span><span style=color:#6be5fd>center</span><span>;
</span><span>  </span><span style=color:#66d9ef;font-style:italic>background-color</span><span>: </span><span style=color:#fff>$color</span><span>;
</span><span>  </span><span style=color:#66d9ef;font-style:italic>padding</span><span>: </span><span style=color:#bd93f9>100</span><span style=color:#ff79c6>px</span><span>;
</span><span>}
</span></code></pre><li><p><code>src/loadImage.ts</code></p> <pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#ff79c6>import </span><span style=color:#fff>logo </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./logo.png'</span><span>;
</span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>component </span><span style=color:#ff79c6>= </span><span>()</span><span style=color:#ff79c6>: </span><span>HTMLElement </span><span style=color:#8be9fd;font-style:italic>=> </span><span>{
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>element</span><span style=color:#ff79c6>: </span><span>HTMLDivElement </span><span style=color:#ff79c6>= </span><span>document</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>createElement</span><span>(</span><span style=color:#f1fa8c>'div'</span><span>);
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>webpackLogo</span><span style=color:#ff79c6>: </span><span>HTMLImageElement </span><span style=color:#ff79c6>= new </span><span>Image();
</span><span>  </span><span style=color:#fff>webpackLogo</span><span style=color:#ff79c6>.</span><span style=color:#fff>src </span><span style=color:#ff79c6>= </span><span style=color:#fff>logo</span><span>;
</span><span>  </span><span style=color:#fff>webpackLogo</span><span style=color:#ff79c6>.</span><span>width </span><span style=color:#ff79c6>= </span><span style=color:#bd93f9>200</span><span>;
</span><span>  </span><span style=color:#fff>element</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>appendChild</span><span>(</span><span style=color:#fff>webpackLogo</span><span>);
</span><span>  </span><span style=color:#ff79c6>return </span><span style=color:#fff>element</span><span>;
</span><span>};
</span><span>document</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>getElementById</span><span>(</span><span style=color:#f1fa8c>'root'</span><span>)</span><span style=color:#ff79c6>?.</span><span style=color:#8be9fd>appendChild</span><span>(</span><span style=color:#50fa7b>component</span><span>());
</span></code></pre><li><p><code>src/subtract.ts</code></p> <pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#ff79c6>export </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>subtract </span><span style=color:#ff79c6>= </span><span>(</span><span style=color:#ffb86c;font-style:italic>a</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>number</span><span>, </span><span style=color:#ffb86c;font-style:italic>b</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>number</span><span>)</span><span style=color:#ff79c6>: </span><span style=color:#66d9ef;font-style:italic>number </span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#fff>a </span><span style=color:#ff79c6>- </span><span style=color:#fff>b</span><span>;
</span></code></pre><li><p><code>src/index.ts</code></p> <pre class=language-ts data-lang=ts style=color:#f8f8f2;background-color:#282a36><code class=language-ts data-lang=ts><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>subtract </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./subtract'</span><span>;
</span><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>add </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'./add'</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#f1fa8c>'./loadImage'</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#f1fa8c>'./index.scss'</span><span>;
</span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#f1fa8c>`1 + 2 = ${</span><span style=color:#50fa7b>add</span><span style=color:#f1fa8c>(</span><span style=color:#bd93f9>1</span><span style=color:#f1fa8c>, </span><span style=color:#bd93f9>2</span><span style=color:#f1fa8c>)}`</span><span>);
</span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#f1fa8c>`8 - 2 = ${</span><span style=color:#50fa7b>subtract</span><span style=color:#f1fa8c>(</span><span style=color:#bd93f9>8</span><span style=color:#f1fa8c>, </span><span style=color:#bd93f9>2</span><span style=color:#f1fa8c>)}`</span><span>);
</span><span>
</span></code></pre></ul><h2 id=configuration>Configuration<a aria-label="Anchor link for: configuration" class=zola-anchor href=#configuration style=visibility:hidden>#</a></h2><h3 id=tsconfig-json><code>tsconfig.json</code><a aria-label="Anchor link for: tsconfig-json" class=zola-anchor href=#tsconfig-json style=visibility:hidden>#</a></h3><p>This file contains de configuration to compile the TypeScript code to Js code.<p>Create compileOption for TypeScript: <code>tsc --init</code> or create directly <code>tsconfig.json</code> in the root folder and paste the following code.<h4 id=code>Code<a aria-label="Anchor link for: code" class=zola-anchor href=#code style=visibility:hidden>#</a></h4><pre class=language-json data-lang=json style=color:#f8f8f2;background-color:#282a36><code class=language-json data-lang=json><span>{
</span><span>  </span><span style=color:#eee>"</span><span style=color:#f1fa8c>compilerOptions</span><span style=color:#eee>"</span><span>: {
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>target</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>ES6</span><span style=color:#eee>"</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>allowJs</span><span style=color:#eee>"</span><span>: </span><span style=color:#bd93f9>true</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>strict</span><span style=color:#eee>"</span><span>: </span><span style=color:#bd93f9>true</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>module</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>ESNext</span><span style=color:#eee>"</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>moduleResolution</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>node</span><span style=color:#eee>"</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>noImplicitAny</span><span style=color:#eee>"</span><span>: </span><span style=color:#bd93f9>false</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>sourceMap</span><span style=color:#eee>"</span><span>: </span><span style=color:#bd93f9>true</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>outDir</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>./dist/</span><span style=color:#eee>"</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>baseUrl</span><span style=color:#eee>"</span><span>: </span><span style=color:#eee>"</span><span style=color:#f1fa8c>.</span><span style=color:#eee>"</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>paths</span><span style=color:#eee>"</span><span>: {
</span><span>      </span><span style=color:#eee>"</span><span style=color:#f1fa8c>@/*</span><span style=color:#eee>"</span><span>: [</span><span style=color:#eee>"</span><span style=color:#f1fa8c>src/*</span><span style=color:#eee>"</span><span>],
</span><span>      </span><span style=color:#eee>"</span><span style=color:#f1fa8c>@@/*</span><span style=color:#eee>"</span><span>: [</span><span style=color:#eee>"</span><span style=color:#f1fa8c>./*</span><span style=color:#eee>"</span><span>]
</span><span>    },
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>allowSyntheticDefaultImports</span><span style=color:#eee>"</span><span>: </span><span style=color:#bd93f9>true</span><span>,
</span><span>    </span><span style=color:#eee>"</span><span style=color:#f1fa8c>esModuleInterop</span><span style=color:#eee>"</span><span>: </span><span style=color:#bd93f9>true
</span><span>  },
</span><span>  </span><span style=color:#eee>"</span><span style=color:#f1fa8c>include</span><span style=color:#eee>"</span><span>: [</span><span style=color:#eee>"</span><span style=color:#f1fa8c>src/**/*</span><span style=color:#eee>"</span><span>]
</span><span>}
</span></code></pre><p>For more information about <a rel="nofollow noreferrer" href=https://www.typescriptlang.org/tsconfig>tsconfig</a><h4 id=explanation>Explanation<a aria-label="Anchor link for: explanation" class=zola-anchor href=#explanation style=visibility:hidden>#</a></h4><p>How <code>tsconfig.json</code> file works?<ul><li><strong>target</strong>: Version javascript that we want to build from TypeScript. Here is <code>ES6</code><li><strong>allowJs</strong>: Allow use using <code>js</code> file in TypeScript project<li><strong>strict</strong>: <code>Strict mode</code> for Typescript<li><strong>module</strong>: After compiling the js, the codes will be written as ESNext module. There are many option here, but we do not recommend use the option <code>commonJS</code> because il will lose the <a rel="nofollow noreferrer" href=https://webpack.js.org/guides/tree-shaking/>Tree-shaking</a> feature of webpack. See this feature in <a href=/blog/basic-setup-webpack#tree-shaking-in-webpack>my previous post</a><li><strong>noImplicitAny</strong>: Do not allow any implicit understanding<li><strong>sourceMap</strong>: easier to debug in dev enviroment. We need use it in both <code>tsconfig</code> and <code>webpack.config</code><li><strong>baseUrl</strong>: The base path, usually "./". If you use the <code>path</code> option below, you must specify baseUrl<li><strong>paths</strong>: Create alias to facilitate import. For example, instead of using <code>../../../</code> now you can shorten it to <code>@/</code>. Configuring the alias in <code>tsconfig.json</code> just helps the editor to understand it, it doesn't work with webpack. So you have to configure with alias with the webpack below as well.<li><strong>include</strong>: Specifies the files to be used in the project.</ul><h3 id=webpack-config-js><code>webpack.config.js</code><a aria-label="Anchor link for: webpack-config-js" class=zola-anchor href=#webpack-config-js style=visibility:hidden>#</a></h3><h4 id=code-1>Code<a aria-label="Anchor link for: code-1" class=zola-anchor href=#code-1 style=visibility:hidden>#</a></h4><pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>path </span><span style=color:#ff79c6>= </span><span style=color:#8be9fd>require</span><span>(</span><span style=color:#f1fa8c>'path'</span><span>)
</span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>HtmlWebpackPlugin </span><span style=color:#ff79c6>= </span><span style=color:#8be9fd>require</span><span>(</span><span style=color:#f1fa8c>'html-webpack-plugin'</span><span>)
</span><span style=color:#66d9ef;font-style:italic>module</span><span style=color:#ff79c6>.</span><span style=color:#66d9ef;font-style:italic>exports </span><span style=color:#ff79c6>= </span><span>(</span><span style=color:#ffb86c;font-style:italic>env</span><span>, </span><span style=color:#ffb86c;font-style:italic>agrv</span><span>) </span><span style=color:#8be9fd;font-style:italic>=> </span><span>{
</span><span>  </span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>= </span><span style=color:#fff>agrv</span><span style=color:#ff79c6>.</span><span style=color:#fff>mode </span><span style=color:#ff79c6>=== </span><span style=color:#f1fa8c>'development'
</span><span>  </span><span style=color:#ff79c6>return </span><span>{
</span><span>    entry: </span><span style=color:#f1fa8c>'./src/index.ts'</span><span>,
</span><span>    module: {
</span><span>      rules: [
</span><span>        {
</span><span>          test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>(ts</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>tsx)</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>          use: </span><span style=color:#f1fa8c>'ts-loader'</span><span>,
</span><span>          exclude: </span><span style=color:#f1fa8c>/node_modules/
</span><span>        },
</span><span>        {
</span><span>          test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>(s</span><span style=color:#bd93f9>[ac]</span><span style=color:#f1fa8c>ss</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>css)</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>          use: [
</span><span>            </span><span style=color:#f1fa8c>'style-loader'</span><span>,
</span><span>            {
</span><span>              loader: </span><span style=color:#f1fa8c>'css-loader'</span><span>,
</span><span>              options: { sourceMap: </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>? </span><span style=color:#bd93f9>true </span><span style=color:#ff79c6>: </span><span style=color:#bd93f9>false </span><span>}
</span><span>            },
</span><span>            {
</span><span>              loader: </span><span style=color:#f1fa8c>'sass-loader'</span><span>,
</span><span>              options: { sourceMap: </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>? </span><span style=color:#bd93f9>true </span><span style=color:#ff79c6>: </span><span style=color:#bd93f9>false </span><span>}
</span><span>            }
</span><span>          ]
</span><span>        },
</span><span>        {
</span><span>          test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>(png</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>svg</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>jpg</span><span style=color:#ff79c6>|</span><span style=color:#f1fa8c>gif)</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>          use: [
</span><span>            {
</span><span>              loader: </span><span style=color:#f1fa8c>'file-loader'</span><span>,
</span><span>              options: {
</span><span>                name: </span><span style=color:#f1fa8c>'[path][name].[ext]'
</span><span>              }
</span><span>            }
</span><span>          ]
</span><span>        }
</span><span>      ]
</span><span>    },
</span><span>    resolve: {
</span><span>      extensions: [</span><span style=color:#f1fa8c>'.ts'</span><span>, </span><span style=color:#f1fa8c>'.tsx'</span><span>, </span><span style=color:#f1fa8c>'.js'</span><span>, </span><span style=color:#f1fa8c>'.jsx'</span><span>],
</span><span>      alias: {
</span><span>        </span><span style=color:#f1fa8c>'@'</span><span>: </span><span style=color:#fff>path</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>resolve</span><span>(</span><span style=color:#f1fa8c>'src'</span><span>),
</span><span>        </span><span style=color:#f1fa8c>'@@'</span><span>: </span><span style=color:#fff>path</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>resolve</span><span>()
</span><span>      }
</span><span>    },
</span><span>    output: {
</span><span>      path: </span><span style=color:#fff>path</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>resolve</span><span>(</span><span style=color:#f1fa8c>'dist'</span><span>),
</span><span>      publicPath: </span><span style=color:#f1fa8c>''</span><span>,
</span><span>      filename: </span><span style=color:#f1fa8c>'bundle.[hash:6].js'</span><span>,
</span><span>      environment: {
</span><span>        arrowFunction: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        bigIntLiteral: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        const: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        destructuring: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        dynamicImport: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        forOf: </span><span style=color:#bd93f9>false</span><span>,
</span><span>        module: </span><span style=color:#bd93f9>false
</span><span>      }
</span><span>    },
</span><span>    devtool: </span><span style=color:#fff>isDev </span><span style=color:#ff79c6>? </span><span style=color:#f1fa8c>'source-map' </span><span style=color:#ff79c6>: </span><span style=color:#bd93f9>false</span><span>,
</span><span>    devServer: {
</span><span>      contentBase: </span><span style=color:#f1fa8c>'public'</span><span>,
</span><span>      port: </span><span style=color:#bd93f9>3000</span><span>,
</span><span>      hot: </span><span style=color:#bd93f9>true</span><span>,
</span><span>      watchContentBase: </span><span style=color:#bd93f9>true
</span><span>    },
</span><span>    plugins: [
</span><span>      </span><span style=color:#ff79c6>new </span><span>HtmlWebpackPlugin({
</span><span>        template: </span><span style=color:#f1fa8c>'public/index.html'
</span><span>      })
</span><span>    ]
</span><span>  }
</span><span>}
</span></code></pre><h4 id=explanation-1>Explanation<a aria-label="Anchor link for: explanation-1" class=zola-anchor href=#explanation-1 style=visibility:hidden>#</a></h4><ul><li><p><code>Entry</code>: Entry points of your project where you put the main code to run your server. Check <a rel="nofollow noreferrer" href=https://webpack.js.org/concepts/entry-points/>Webpack entry point</a></p><li><p><code>module.rules</code>: Array contains the <code>loaders</code></p><li><p><code>test</code>: Using <strong>regex</strong> to determine the file type. If it is <code>true</code> then it will run the loader.</p> <p><code>file-loader</code> will run png, svg, jpg, gif... (image and video) file.</p><li><p><code>exclude</code>: Enter a <strong>regex</strong>, the <code>loader</code> will ignore these file and folder.</p><li><p><code>use</code>: Retrieve an object or an array containing loader information.</p> <ul><li>Notice for <code>babel-loader</code>: using presets <code>@babel/preset</code> by default. It will compile to ES5 syntax.<li>Notice for <code>style-loader</code>: using <strong>sourMap</strong> to easier debug when dev.<li>Notice for <code>file-loader</code>: using <code>[path][name].[ext]</code> means after build, the files will be created with the similar names in similar folder. For example: if you have <code>src/logo.png</code> file, when you build it, you will have <code>dist/src/logo.png</code>.</ul><li><p><code>resolve: { extensions: [‘.js’, ‘.jsx’] }</code>: The priority order when import files. For example, there are 2 files name.js and name.jsx in the same folder. In another file you import * from 'name', it will prioritize .js file</p><li><p><code>alias</code>: Create alias to facilitate import in webpack</p><li><p><code>output</code>: configuration of build file webpack</p> <ul><li><code>output.path</code>: the absolute path to the directory after build. For the absolute path, we usually use <code>path.resolve()</code> or <code>path.join()</code> in combination with the global variable <code>__dirname</code>.<li><code>output.publicPath</code>: the relative path from the <code>index.html</code> file pointing to the files in the <strong>dist</strong> directory after build.</ul> <p>For example: in the file <code>loadImage.js</code>, we import logo, the logo variable will be become: <code>output.publicPath + 'src/logo.png</code>. If after the build, we run the <code>index.html</code> file in a different location not in <strong>the public directory</strong>, we will accidentally make the logo variable wrong.</p> <ul><li><code>output.filename</code>: filename of js bundle after build.</ul> <p>Here we use <code>[hash:6]</code> means the bundle will add 6 random characters to the bundle file in each build (ex: <code>bundle.bbc536.js</code>).</p> <p>This is aimed at restricting your browser to cache Javascript when you update a new Javascript version for your website.</p> <p>But we have a problem. Each time of build, we will have a new bundle file. So do we need edit the src of script import in the <code>public/index.html</code> file?</p> <p>We don't. Because we use the plugin <code>HtmlWebpackPlugin</code>. It will help use create a new <code>index.html</code> file from the original html file.</p> <p>This new <code>html</code> file will use the template as the <code>public/index.html</code> and automatically build to <code>dist/src/index.html</code> and import new <code>bundle.....js</code> file.</p> <ul><li><code>output.environment</code>: By default, webpack will generate code using the ES6 syntax. If you don't want this, you can modify the target build by yourself in the <code>output.environment</code> <ul><li><strong>arrowFunction</strong>: support arrow function.<li><strong>bigIntLiteral</strong>: support BigInt<li><strong>const</strong>: support declaration <code>const</code> và <code>let</code><li><strong>destructuring</strong>: support destructuring<li><strong>dynamicImport</strong>: support async import<li><strong>forOf</strong>: support <code>forOf</code> for array<li><strong>module</strong>: support moudle ES6 (import … from ‘…’)</ul></ul><li><p><code>devtool</code>: contains the configuration file after dev or after build. When you in the dev step, you can use <code>source-map</code> to debug more simply. But we don't use it in the production to reduce the volume of file when build.</p> <p>Check <a rel="nofollow noreferrer" href=https://webpack.js.org/configuration/devtool/>Devtool Webpack</a></p><li><p><code>devServer</code>: You can imagine, it will create a server <strong>localhost</strong> at the root folder</p> <ul><li><strong>devServer.contentBase</strong>: the path directory where contains <code>index.html</code> file. Here is <code>public</code><li><strong>devServer.port</strong>: port of localhost<li><strong>devServer.hot</strong>: The mode <code>hot reload</code>. By default, on the dev server, webpack will refresh the page every time when there is a slight change in the code. The <code>hot reload</code> helps use to see the change but don't need reload page.<li><strong>devServer.publicPath</strong>: the relative path from root directory pointing to the build directory. Here is <code>/dist/</code> --> / is root folder<li><strong>devServer.watchContentBase</strong>: If you have the change in the <code>index.html</code>, browser will reload automatically.</ul></ul><h3 id=structure-of-project>Structure of project<a aria-label="Anchor link for: structure-of-project" class=zola-anchor href=#structure-of-project style=visibility:hidden>#</a></h3><pre style=color:#f8f8f2;background-color:#282a36><code><span>.
</span><span>├── dist
</span><span>│   ├── bundle.bbc536.js
</span><span>│   ├── index.html
</span><span>│   └── src
</span><span>│       └── logo.png
</span><span>├── package.json
</span><span>├── public
</span><span>│   └── index.html
</span><span>├── README.md
</span><span>├── src
</span><span>│   ├── add.ts
</span><span>│   ├── app.d.ts
</span><span>│   ├── index.scss
</span><span>│   ├── index.ts
</span><span>│   ├── loadImage.ts
</span><span>│   ├── logo.png
</span><span>│   └── subtract.ts
</span><span>├── tsconfig.json
</span><span>├── webpack.config.js
</span><span>└── yarn.lock
</span></code></pre><hr><h2 id=reference>Reference<a aria-label="Anchor link for: reference" class=zola-anchor href=#reference style=visibility:hidden>#</a></h2><ul><li><a rel="nofollow noreferrer" href=https://github.com/tduyng/webpack/tree/master/webpack-typescript>Source code GitHub</a></ul><div class=pagination><div class=pagination__buttons><span class="button previous"> <a href=https://tduyng2.github.io/blog/basic-setup-webpack/> <span class=button__icon>←</span>  <span class=button__text>Basic Setup Webpack</span> </a> </span><span class="button next"> <a href=https://tduyng2.github.io/blog/setup-webpack-react-typescript/> <span class=button__text>Setup Webpack React TypeScript</span>  <span class=button__icon>→</span> </a> </span></div></div></article><div class=giscus></div><script data-repo-id="MDEwOlJlcG9zaXRvcnkyNjAzNTM0NzM=" async crossorigin data-category=General data-category-id=DIC_kwDOD4Stwc4CfSpo data-dark-theme=noborder_dark data-emit-metadata=0 data-input-position=bottom data-lang=en data-lazy-loading=true data-light-theme=noborder_light data-mapping=specific data-reactions-enabled=1 data-repo=tduyng/tduyng.github.io data-strict=1 data-term=setup-webpack-with-typescript src=https://giscus.app/client.js></script></div><footer><div class=copyright><p>© 2024 Duy NG</div><a class="instant fold" href=/tags>tags</a><a class="instant fold" href=/subscribe>subscribe</a><a class="instant fold" href=/contact>contact</a><a class="instant fold" href=/privacy>privacy</a><a class="instant fold" href=/sitemap.xml>sitemap</a><a class="instant fold" href=/atom.xml>rss</a></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>